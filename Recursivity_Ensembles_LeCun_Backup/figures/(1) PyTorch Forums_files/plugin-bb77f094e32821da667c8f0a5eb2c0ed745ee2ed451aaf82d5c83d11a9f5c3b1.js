define("discourse/plugins/discourse-akismet/admin/models/akismet-queue",["exports","discourse/lib/ajax"],function(e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={confirmSpam:function(e){return(0,t.ajax)("/admin/plugins/akismet/confirm_spam",{type:"POST",data:{post_id:e.get("id")}})},allow:function(e){return(0,t.ajax)("/admin/plugins/akismet/allow",{type:"POST",data:{post_id:e.get("id")}})},dismiss:function(e){return(0,t.ajax)("/admin/plugins/akismet/dismiss",{type:"POST",data:{post_id:e.get("id")}})},deleteUser:function(e){return(0,t.ajax)("/admin/plugins/akismet/delete_user",{type:"DELETE",data:{user_id:e.get("user_id"),post_id:e.get("id")}})},findAll:function(){return(0,t.ajax)("/admin/plugins/akismet/index.json").then(function(e){return e.posts=e.posts.map(function(e){return Discourse.Post.create(e)}),e})}}}),Ember.TEMPLATES["javascripts/connectors/site-map-links/akismet-review"]=Ember.HTMLBars.template({id:null,block:'{"statements":[[6,["if"],[[28,["currentUser","staff"]]],null,{"statements":[[0,"  "],[11,"li",[]],[13],[0,"\\n"],[6,["link-to"],["adminPlugins.akismet"],null,{"statements":[[0,"      "],[1,[33,["i18n"],["akismet.title"],null],false],[0,"\\n"],[6,["if"],[[28,["currentUser","akismet_review_count"]]],null,{"statements":[[0,"        "],[11,"span",[]],[15,"class","badge-notification flagged-posts"],[13],[1,[28,["currentUser","akismet_review_count"]],false],[14],[0,"\\n"]],"locals":[]},null]],"locals":[]},null],[0,"  "],[14],[0,"\\n"]],"locals":[]},null]],"locals":[],"named":[],"yields":[],"hasPartials":false}',meta:{moduleName:"javascripts/connectors/site-map-links/akismet-review"}}),Ember.TEMPLATES["javascripts/admin/plugins-akismet"]=Ember.HTMLBars.template({id:null,block:'{"statements":[[6,["if"],[[28,["enabled"]]],null,{"statements":[[6,["if"],[[28,["stats"]]],null,{"statements":[[0,"    "],[11,"table",[]],[15,"class","tbl spam-stats"],[13],[0,"\\n      "],[11,"tr",[]],[13],[0,"\\n        "],[11,"th",[]],[13],[1,[33,["i18n"],["akismet.stats.scanned"],null],false],[14],[0,"\\n        "],[11,"th",[]],[13],[1,[33,["i18n"],["akismet.stats.needs_review"],null],false],[14],[0,"\\n        "],[11,"th",[]],[13],[1,[33,["i18n"],["akismet.stats.confirmed_spam"],null],false],[14],[0,"\\n        "],[11,"th",[]],[13],[1,[33,["i18n"],["akismet.stats.confirmed_ham"],null],false],[14],[0,"\\n      "],[14],[0,"\\n      "],[11,"tr",[]],[13],[0,"\\n        "],[11,"td",[]],[13],[1,[28,["stats","scanned"]],false],[14],[0,"\\n        "],[11,"td",[]],[13],[1,[28,["stats","needs_review"]],false],[14],[0,"\\n        "],[11,"td",[]],[13],[1,[28,["stats","confirmed_spam"]],false],[14],[0,"\\n        "],[11,"td",[]],[13],[1,[28,["stats","confirmed_ham"]],false],[14],[0,"\\n      "],[14],[0,"\\n    "],[14],[0,"\\n"]],"locals":[]},null],[0,"\\n"],[6,["if"],[[28,["currentUser","admin"]]],null,{"statements":[[0,"    "],[1,[33,["d-button"],null,[["label","icon","class","action"],["admin.plugins.change_settings","gear","settings-button","showSettings"]]],false],[0,"\\n"]],"locals":[]},null],[0,"\\n  "],[1,[33,["d-button"],null,[["action","icon","class","label","disabled"],["refresh","refresh","btn-primary","akismet.refresh",[28,["performingAction"]]]]],false],[0,"\\n\\n"],[6,["if"],[[28,["model","length"]]],null,{"statements":[[0,"    "],[11,"h3",[]],[15,"class","review-queue"],[13],[1,[33,["i18n"],["akismet.posts_to_review"],null],false],[14],[0,"\\n\\n    "],[11,"div",[]],[15,"class","row"],[13],[0,"\\n      "],[11,"table",[]],[15,"class","akismet-queue"],[13],[0,"\\n        "],[11,"tbody",[]],[13],[0,"\\n"],[6,["each"],[[28,["sortedPosts"]]],null,{"statements":[[0,"          "],[11,"tr",[]],[13],[0,"\\n            "],[11,"td",[]],[15,"class","cooked"],[13],[0,"\\n\\n              "],[11,"div",[]],[15,"class","post-info"],[13],[0,"\\n                "],[6,["link-to"],["adminUser",[28,["post","user_id"]],[28,["post","username"]]],null,{"statements":[[1,[33,["avatar"],[[28,["post"]]],[["imageSize"],["small"]]],false],[0," "],[1,[28,["post","username"]],false]],"locals":[]},null],[0,"\\n                "],[11,"a",[]],[16,"href",[28,["post","url"]],null],[15,"target","_blank"],[15,"class","post-link"],[13],[0,"#"],[1,[28,["post","id"]],false],[14],[0,"\\n              "],[14],[0,"\\n              "],[1,[28,["post","excerpt"]],true],[0,"\\n              "],[11,"div",[]],[15,"class","queue-actions"],[13],[0,"\\n                "],[1,[33,["d-button"],null,[["action","actionParam","icon","class","label","disabled"],["confirmSpamPost",[28,["post"]],"check","btn-primary","akismet.confirm_spam",[28,["performingAction"]]]]],false],[0,"\\n\\n                "],[1,[33,["d-button"],null,[["action","actionParam","icon","label","disabled"],["allowPost",[28,["post"]],"thumbs-o-up","akismet.not_spam",[28,["performingAction"]]]]],false],[0,"\\n\\n                "],[1,[33,["d-button"],null,[["action","actionParam","icon","label","disabled"],["dismiss",[28,["post"]],"times","akismet.dismiss",[28,["performingAction"]]]]],false],[0,"\\n\\n\\n"],[6,["if"],[[28,["post","user_id"]]],null,{"statements":[[0,"                  "],[1,[33,["d-button"],null,[["action","actionParam","icon","class","label","disabled"],["deleteUser",[28,["post"]],"trash-o","btn-danger","akismet.confirm_delete",[28,["performingAction"]]]]],false],[0,"\\n"]],"locals":[]},null],[0,"              "],[14],[0,"\\n            "],[14],[0,"\\n          "],[14],[0,"\\n"]],"locals":["post"]},null],[0,"        "],[14],[0,"\\n      "],[14],[0,"\\n    "],[14],[0,"\\n"]],"locals":[]},null]],"locals":[]},{"statements":[[6,["if"],[[28,["currentUser","admin"]]],null,{"statements":[[0,"    "],[1,[33,["d-button"],null,[["label","icon","class","action"],["akismet.change_settings","gear","settings-button","showSettings"]]],false],[0,"\\n"]],"locals":[]},null],[0,"  "],[1,[33,["i18n"],["akismet.not_enabled"],null],true],[0,"\\n"]],"locals":[]}]],"locals":[],"named":[],"yields":[],"hasPartials":false}',meta:{moduleName:"javascripts/admin/plugins-akismet"}}),define("discourse/plugins/discourse-akismet/discourse/initializers/add-akismet-count",["exports","discourse/lib/plugin-api"],function(e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"add-akismet-count",before:"register-discourse-location",after:"inject-objects",initialize:function(e){var s=e.lookup("current-user:main");if(s&&s.get("staff")){(0,t.withPluginApi)("0.4",function(e){e.addFlagProperty("currentUser.akismet_review_count"),e.decorateWidget("hamburger-menu:admin-links",function(e){return e.attach("link",{route:"adminPlugins.akismet",label:"akismet.title",badgeCount:"akismet_review_count",badgeClass:"flagged-posts"})})});e.lookup("message-bus:main").subscribe("/akismet_counts",function(e){e&&s.set("akismet_review_count",e.akismet_review_count||0)})}}}}),define("discourse/plugins/discourse-akismet/discourse/akismet-route-map",["exports"],function(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={resource:"admin.adminPlugins",path:"/plugins",map:function(){this.route("akismet")}}}),define("discourse/plugins/discourse-akismet/discourse/controllers/admin-plugins-akismet",["exports","discourse/plugins/discourse-akismet/admin/models/akismet-queue"],function(e,t){"use strict";function s(){bootbox.alert(I18n.t("generic_error"))}Object.defineProperty(e,"__esModule",{value:!0}),e.default=Ember.Controller.extend({sortedPosts:Ember.computed.sort("model","postSorting"),postSorting:["id:asc"],enabled:!1,performingAction:!1,actions:{refresh:function(){var e=this;this.set("performingAction",!0),t.default.findAll().then(function(t){e.set("stats",t.stats),e.set("model",t.posts)}).catch(s).finally(function(){e.set("performingAction",!1)})},confirmSpamPost:function(e){var n=this;this.set("performingAction",!0),t.default.confirmSpam(e).then(function(){n.get("model").removeObject(e),n.incrementProperty("stats.confirmed_spam"),n.decrementProperty("stats.needs_review")}).catch(s).finally(function(){n.set("performingAction",!1)})},allowPost:function(e){var n=this;this.set("performingAction",!0),t.default.allow(e).then(function(){n.incrementProperty("stats.confirmed_ham"),n.decrementProperty("stats.needs_review"),n.get("model").removeObject(e)}).catch(s).finally(function(){n.set("performingAction",!1)})},deleteUser:function(e){var n=this;bootbox.confirm(I18n.t("akismet.delete_prompt",{username:e.get("username")}),function(l){!0===l&&(n.set("performingAction",!0),t.default.deleteUser(e).then(function(){n.get("model").removeObject(e),n.incrementProperty("stats.confirmed_spam"),n.decrementProperty("stats.needs_review")}).catch(s).finally(function(){n.set("performingAction",!1)}))})},dismiss:function(e){var n=this;this.set("performingAction",!0),t.default.dismiss(e).then(function(){n.get("model").removeObject(e)}).catch(s).finally(function(){n.set("performingAction",!1)})}}})}),define("discourse/plugins/discourse-akismet/discourse/routes/admin-plugins-akismet",["exports","discourse/plugins/discourse-akismet/admin/models/akismet-queue"],function(e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=Discourse.Route.extend({_enabled:!1,_stats:null,model:function(){var e=this;return t.default.findAll().then(function(t){return e._enabled=t.enabled,e._stats=t.stats,t.posts})},setupController:function(e,t){e.setProperties({model:t,enabled:this._enabled,stats:this._stats})}})}),function(e,t){function s(e){e.toggleClass("open")}var n=function(e){var t,s=e.createElement("details");if(!("open"in s))return!1;var n=e.body||function(){var s=e.documentElement;return t=!0,s.insertBefore(e.createElement("body"),s.firstElementChild||s.firstChild)}();s.innerHTML="<summary>a</summary>b",s.style.display="block",n.appendChild(s);var l=s.offsetHeight;return s.open=!0,l=l!==s.offsetHeight,n.removeChild(s),t&&n.parentNode.removeChild(n),l}(e);t.fn.details=function(){return n?this:this.each(function(){var e=t(this),n=t("summary",e).first();n.prop("tabIndex",0),n.on("keydown",function(t){if(32===t.keyCode||13===t.keyCode)return s(e),!1}),n.on("click",function(){n.focus(),s(e)})})}}(document,jQuery),define("discourse/plugins/discourse-details/lib/discourse-markdown/details",["exports"],function(e){"use strict";function t(e){e.whiteList(["summary","summary[title]","details","details[open]","details.elided"]),e.registerPlugin(function(e){e.block.bbcode.ruler.push("details",s)})}Object.defineProperty(e,"__esModule",{value:!0}),e.setup=t;var s={tag:"details",before:function(e,t){var s=t.attrs;e.push("bbcode_open","details",1),e.push("bbcode_open","summary",1),e.push("text","",0).content=s._default||"",e.push("bbcode_close","summary",-1)},after:function(e){e.push("bbcode_close","details",-1)}}}),define("discourse/plugins/discourse-details/initializers/apply-details",["exports","discourse/lib/plugin-api"],function(e,t){"use strict";function s(e){e.decorateCooked(function(e){return $("details",e).details()}),e.addToolbarPopupMenuOptionsCallback(function(){return{action:"insertDetails",icon:"caret-right",label:"details.title"}}),e.modifyClass("controller:composer",{actions:{insertDetails:function(){this.get("toolbarEvent").applySurround('\n[details="'+I18n.t("composer.details_title")+'"]\n',"\n[/details]\n","details_text",{multiline:!1})}}})}Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"apply-details",initialize:function(){(0,t.withPluginApi)("0.8.7",s)}}}),function(){window.jQuery;!function(e){e.fn.applyLocalDates=function(t){function s(e){return e.replace("_"," ").split("/")}function n(e,l){t=t||!0,this.timeout&&clearTimeout(this.timeout);var o;if((o=l.forceTimezone?moment.tz(l.date+" "+l.time,l.forceTimezone).utc():moment.utc(l.date+" "+l.time))<moment().utc())if(l.recurring){var i=l.recurring.split("."),a=parseInt(i[0],10),r=i[1],u=moment().diff(o,r),c=Math.ceil(u+a);o=o.add(c,r)}else e.addClass("past");var d=l.timezones.split("|").map(function(e){var t=o.tz(e).format(l.format||"LLL"),n=s(e);if(t.match(/TZ/))return t.replace("TZ",n.join(": "));var i=n[0];return n[1]&&(i+=" ("+n[1]+")"),i+=" "+t}),p=moment.tz.guess(),o=o.tz(p);o="YYYY-MM-DD HH:mm:ss"!==l.format&&o.isBetween(moment().subtract(1,"day"),moment().add(2,"day"))?o.calendar():o.format(l.format);var m="<span>";m+="<i class='fa fa-globe d-icon d-icon-globe'></i>",m+="<span class='relative-time'></span>",m+="</span>";var f=d.join("\n"),h=o.replace("TZ",s(p).join(": "));e.html(m).attr("title",f).attr("data-tooltip",f).addClass("cooked-date").find(".relative-time").text(h),t&&(this.timeout=setTimeout(function(){n(e,l)},1e4))}return this.each(function(){var t=e(this),s={};s.format=t.attr("data-format"),s.date=t.attr("data-date"),s.time=t.attr("data-time")||"00:00:00",s.recurring=t.attr("data-recurring"),s.timezones=t.attr("data-timezones"),s.forceTimezone=t.attr("data-force-timezone"),n(t,s)})}}(jQuery)}(),define("discourse/plugins/discourse-local-dates/lib/discourse-markdown/discourse-local-dates",["exports","pretty-text/engines/discourse-markdown/bbcode-block"],function(e,t){"use strict";function s(e,s,n){var l=void 0,o={date:null,time:null,forceTimezone:null,format:"YYYY-MM-DD HH:mm:ss",timezones:"Etc/UTC"},i=(0,t.parseBBCodeTag)("[date date"+s[1]+"]",0,s[1].length+11);o.date=i.attrs.date,o.time=i.attrs.time,o.forceTimezone=i.attrs.forceTimezone||i.attrs.timezone,o.recurring=i.attrs.recurring,o.format=i.attrs.format||o.format,o.timezones=i.attrs.timezones||o.timezones,l=new n.Token("span_open","span",1),l.attrs=[["class","discourse-local-date"],["data-date",n.md.utils.escapeHtml(o.date)],["data-format",n.md.utils.escapeHtml(o.format)],["data-timezones",n.md.utils.escapeHtml(o.timezones)]],o.time&&l.attrs.push(["data-time",n.md.utils.escapeHtml(o.time)]);var a=void 0;o.forceTimezone?(l.attrs.push(["data-force-timezone",n.md.utils.escapeHtml(o.forceTimezone)]),a=moment.tz(o.date+" "+o.time,o.forceTimezone)):a=moment.utc(o.date+" "+o.time),o.recurring&&l.attrs.push(["data-recurring",n.md.utils.escapeHtml(o.recurring)]),e.push(l);var r=void 0,u=o.timezones.split("|")[0],c=a.tz(u).format(o.format),d=u.replace("/",": ").replace("_"," ");r=c.match(/TZ/)?c.replace("TZ",d):c+" ("+d+")",l.attrs.push(["data-email-preview",r]),l=new n.Token("text","",0),l.content=a.utc().format(o.format),e.push(l),l=new n.Token("span_close","span",-1),e.push(l)}function n(e){e.whiteList(["span.discourse-local-date","span[data-*]","span[title]"]),e.registerOptions(function(e,t){e.features["discourse-local-dates"]=!!t.discourse_local_dates_enabled}),e.registerPlugin(function(e){var t={matcher:/\[date(.+?)\]/,onMatch:s};e.core.textPostProcess.ruler.push("discourse-local-dates",t)})}Object.defineProperty(e,"__esModule",{value:!0}),e.setup=n}),define("discourse/plugins/discourse-local-dates/initializers/discourse-local-dates",["exports","discourse/lib/plugin-api","discourse/lib/show-modal","discourse/lib/tooltip"],function(e,t,s,n){"use strict";function l(e){e.decorateCooked(function(e){$(".discourse-local-date",e).applyLocalDates(),(0,n.registerTooltip)($(".discourse-local-date",e))}),e.addToolbarPopupMenuOptionsCallback(function(){return{action:"insertDiscourseLocalDate",icon:"globe",label:"discourse_local_dates.title"}}),e.modifyClass("controller:composer",{actions:{insertDiscourseLocalDate:function(){(0,s.default)("discourse-local-dates-create-modal").setProperties({toolbarEvent:this.get("toolbarEvent")})}}})}Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"discourse-local-dates",initialize:function(e){e.lookup("site-settings:main").discourse_local_dates_enabled&&(0,t.withPluginApi)("0.8.8",l)}}}),Ember.TEMPLATES["javascripts/modal/discourse-local-dates-create-modal"]=Ember.HTMLBars.template({id:null,block:'{"statements":[[1,[33,["discourse-local-dates-create-form"],null,[["config","toolbarEvent"],[[28,["config"]],[28,["toolbarEvent"]]]]],false],[0,"\\n"]],"locals":[],"named":[],"yields":[],"hasPartials":false}',meta:{moduleName:"javascripts/modal/discourse-local-dates-create-modal"}}),Ember.TEMPLATES["javascripts/components/discourse-local-dates-create-form"]=Ember.HTMLBars.template({id:null,block:'{"statements":[[6,["d-modal-body"],null,[["title","subtitle","class","style"],["discourse_local_dates.create.modal_title","discourse_local_dates.create.modal_subtitle","discourse-local-dates-create-modal","overflow: auto"]],{"statements":[[0,"\\n  "],[11,"div",[]],[15,"class","form"],[13],[0,"\\n    "],[11,"div",[]],[15,"class","date-time-configuration"],[13],[0,"\\n      "],[11,"div",[]],[15,"class","range"],[13],[0,"\\n        "],[11,"div",[]],[15,"class","from"],[13],[0,"\\n          "],[11,"div",[]],[15,"class","control-group date"],[13],[0,"\\n            "],[11,"label",[]],[15,"class","control-label"],[13],[0,"\\n              "],[1,[33,["i18n"],["discourse_local_dates.create.form.date_title"],null],false],[0,"\\n            "],[14],[0,"\\n            "],[11,"div",[]],[15,"class","controls"],[13],[0,"\\n              "],[1,[33,["date-picker"],null,[["class","value","defaultDate"],["date-input",[28,["date"]],"DD-MM-YYYY"]]],false],[0,"\\n            "],[14],[0,"\\n          "],[14],[0,"\\n\\n          "],[11,"div",[]],[15,"class","control-group time"],[13],[0,"\\n            "],[11,"label",[]],[15,"class","control-label"],[13],[0,"\\n              "],[1,[33,["i18n"],["discourse_local_dates.create.form.time_title"],null],false],[0,"\\n            "],[14],[0,"\\n            "],[11,"div",[]],[15,"class","controls"],[13],[0,"\\n              "],[1,[33,["input"],null,[["type","value","class"],["time",[28,["time"]],"time-input"]]],false],[0,"\\n            "],[14],[0,"\\n          "],[14],[0,"\\n        "],[14],[0,"\\n\\n        "],[11,"span",[]],[15,"class","to-indicator"],[13],[11,"span",[]],[13],[0,"to"],[14],[14],[0,"\\n\\n        "],[11,"div",[]],[15,"class","to"],[13],[0,"\\n          "],[11,"div",[]],[15,"class","control-group date"],[13],[0,"\\n            "],[11,"label",[]],[15,"class","control-label"],[13],[0,"\\n              "],[1,[33,["i18n"],["discourse_local_dates.create.form.date_title"],null],false],[0,"\\n            "],[14],[0,"\\n            "],[11,"div",[]],[15,"class","controls"],[13],[0,"\\n              "],[1,[33,["date-picker"],null,[["class","value","defaultDate"],["date-input",[28,["toDate"]],"DD-MM-YYYY"]]],false],[0,"\\n            "],[14],[0,"\\n          "],[14],[0,"\\n\\n          "],[11,"div",[]],[15,"class","control-group time"],[13],[0,"\\n            "],[11,"label",[]],[15,"class","control-label"],[13],[0,"\\n              "],[1,[33,["i18n"],["discourse_local_dates.create.form.time_title"],null],false],[0,"\\n            "],[14],[0,"\\n            "],[11,"div",[]],[15,"class","controls"],[13],[0,"\\n              "],[1,[33,["input"],null,[["type","value","class"],["time",[28,["toTime"]],"time-input"]]],false],[0,"\\n            "],[14],[0,"\\n          "],[14],[0,"\\n        "],[14],[0,"\\n      "],[14],[0,"\\n\\n      "],[11,"span",[]],[15,"class","preview"],[13],[1,[26,["currentUserTimezone"]],false],[14],[0,"\\n    "],[14],[0,"\\n\\n"],[6,["unless"],[[28,["validDate"]]],null,{"statements":[[0,"      "],[11,"span",[]],[15,"class","validation-error"],[13],[1,[33,["i18n"],["discourse_local_dates.create.form.invalid_date"],null],false],[14],[0,"\\n"]],"locals":[]},null],[0,"\\n    "],[11,"div",[]],[15,"class","control-group recurrence"],[13],[0,"\\n      "],[11,"label",[]],[15,"class","control-label"],[13],[0,"\\n        "],[1,[33,["i18n"],["discourse_local_dates.create.form.recurring_title"],null],false],[0,"\\n      "],[14],[0,"\\n"],[6,["if"],[[28,["advancedMode"]]],null,{"statements":[[0,"        "],[11,"p",[]],[13],[1,[33,["i18n"],["discourse_local_dates.create.form.recurring_description"],null],true],[14],[0,"\\n"]],"locals":[]},null],[0,"      "],[11,"div",[]],[15,"class","controls"],[13],[0,"\\n        "],[1,[33,["combo-box"],null,[["content","class","value","none"],[[28,["recurringOptions"]],"recurrence-input",[28,["recurring"]],"discourse_local_dates.create.form.recurring_none"]]],false],[0,"\\n      "],[14],[0,"\\n    "],[14],[0,"\\n\\n"],[6,["if"],[[28,["advancedMode"]]],null,{"statements":[[0,"      "],[11,"div",[]],[15,"class","advanced-options"],[13],[0,"\\n        "],[11,"div",[]],[15,"class","control-group format"],[13],[0,"\\n          "],[11,"label",[]],[13],[1,[33,["i18n"],["discourse_local_dates.create.form.format_title"],null],false],[14],[0,"\\n          "],[11,"p",[]],[13],[0,"\\n            "],[1,[33,["i18n"],["discourse_local_dates.create.form.format_description"],null],false],[0,"\\n            "],[11,"a",[]],[15,"target","_blank"],[15,"rel","noopener"],[15,"href","https://momentjs.com/docs/#/parsing/string-format/"],[13],[0,"\\n              "],[1,[33,["d-icon"],["question-circle"],null],false],[0,"\\n            "],[14],[0,"\\n          "],[14],[0,"\\n          "],[11,"div",[]],[15,"class","controls"],[13],[0,"\\n            "],[1,[33,["text-field"],null,[["value","class"],[[28,["format"]],"format-input"]]],false],[0,"\\n          "],[14],[0,"\\n        "],[14],[0,"\\n        "],[11,"div",[]],[15,"class","control-group"],[13],[0,"\\n          "],[11,"ul",[]],[15,"class","formats"],[13],[0,"\\n"],[6,["each"],[[28,["previewedFormats"]]],null,{"statements":[[0,"              "],[11,"li",[]],[15,"class","format"],[13],[0,"\\n                "],[11,"a",[]],[15,"class","moment-format"],[15,"href",""],[5,["action"],[[28,[null]],"fillFormat",[28,["previewedFormat","format"]]]],[13],[0,"\\n                  "],[1,[28,["previewedFormat","format"]],false],[0,"\\n                "],[14],[0,"\\n                "],[11,"span",[]],[15,"class","previewed-format"],[13],[0,"\\n                  "],[1,[28,["previewedFormat","preview"]],false],[0,"\\n                "],[14],[0,"\\n              "],[14],[0,"\\n"]],"locals":["previewedFormat"]},null],[0,"          "],[14],[0,"\\n        "],[14],[0,"\\n\\n        "],[11,"div",[]],[15,"class","control-group timezones"],[13],[0,"\\n          "],[11,"label",[]],[13],[1,[33,["i18n"],["discourse_local_dates.create.form.timezones_title"],null],false],[14],[0,"\\n          "],[11,"p",[]],[13],[1,[33,["i18n"],["discourse_local_dates.create.form.timezones_description"],null],false],[14],[0,"\\n          "],[11,"div",[]],[15,"class","controls"],[13],[0,"\\n            "],[1,[33,["multi-select"],null,[["class","allowAny","maximum","content","values"],["timezones-input",false,5,[28,["allTimezones"]],[28,["timezones"]]]]],false],[0,"\\n          "],[14],[0,"\\n        "],[14],[0,"\\n      "],[14],[0,"\\n"]],"locals":[]},null],[0,"  "],[14],[0,"\\n"]],"locals":[]},null],[0,"\\n"],[11,"div",[]],[15,"class","modal-footer discourse-local-dates-create-modal-footer"],[13],[0,"\\n"],[6,["if"],[[28,["validDate"]]],null,{"statements":[[0,"    "],[1,[33,["d-button"],null,[["class","action","label"],["btn","save","discourse_local_dates.create.form.insert"]]],false],[0,"\\n"]],"locals":[]},null],[0,"\\n  "],[11,"a",[]],[15,"class","cancel-action"],[15,"href",""],[5,["action"],[[28,[null]],"cancel"]],[13],[0,"\\n    "],[1,[33,["i18n"],["cancel"],null],false],[0,"\\n  "],[14],[0,"\\n\\n  "],[1,[33,["d-button"],null,[["class","action","icon","label"],["advanced-mode-btn",[33,["action"],[[28,[null]],"advancedMode"],null],"cog",[28,["toggleModeBtnLabel"]]]]],false],[0,"\\n"],[14],[0,"\\n"]],"locals":[],"named":[],"yields":[],"hasPartials":false}',meta:{moduleName:"javascripts/components/discourse-local-dates-create-form"}}),define("discourse/plugins/discourse-local-dates/discourse/components/discourse-local-dates-create-form",["exports","ember-addons/ember-computed-decorators"],function(e,t){"use strict";function s(e,t,s,n,l){var o={};return Object.keys(n).forEach(function(e){o[e]=n[e]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=s.slice().reverse().reduce(function(s,n){return n(e,t,s)||s},o),l&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(l):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}Object.defineProperty(e,"__esModule",{value:!0});var n,l,o,i,a,r;e.default=Ember.Component.extend((n=(0,t.default)("formats"),l=(0,t.default)(),o=(0,t.observes)("date","time","toDate","toTime","recurring","format","timezones"),i=(0,t.default)("config.dateTime","config.toDateTime"),a=(0,t.default)("advancedMode"),r={timeFormat:"HH:mm:ss",dateFormat:"YYYY-MM-DD",dateTimeFormat:"YYYY-MM-DD HH:mm:ss",config:null,date:null,toDate:null,time:null,toTime:null,format:null,formats:null,recurring:null,advancedMode:!1,init:function(){this._super(),this.set("date",moment().format(this.dateFormat)),this.set("format","LLL"),this.set("timezones",(this.siteSettings.discourse_local_dates_default_timezones||"").split("|").filter(function(e){return e})),this.set("formats",(this.siteSettings.discourse_local_dates_default_formats||"").split("|").filter(function(e){return e}))},didInsertElement:function(){this._super(),this._setConfig()},currentUserTimezone:function(){return moment.tz.guess()},previewedFormats:function(e){return e.map(function(e){return{format:e,preview:moment().format(e)}})},recurringOptions:function(){return[{name:"Every day",id:"1.days"},{name:"Every week",id:"1.weeks"},{name:"Every two weeks",id:"2.weeks"},{name:"Every month",id:"1.months"},{name:"Every two months",id:"2.months"},{name:"Every three months",id:"3.months"},{name:"Every six months",id:"6.months"},{name:"Every year",id:"1.years"}]},allTimezones:function(){return _.map(moment.tz.names(),function(e){return e})},_setConfig:function(){var e=this.get("toTime");e&&!this.get("toDate")&&this.set("toDate",moment().format(this.dateFormat));var t=this.get("date"),s=this.get("toDate"),n=this.get("time"),l=this.get("recurring"),o=this.get("format"),i=this.get("timezones"),a=!n,r=!e,u=this.get("currentUserTimezone"),c=void 0;c=a?moment.tz(t,u):moment.tz(t+" "+n,u);var d=void 0;d=r?moment.tz(s,u).endOf("day"):moment.tz(s+" "+e,u);var p={date:c.format(this.dateFormat),dateTime:c,recurring:l,format:o,timezones:i,timezone:u};p.time=c.format(this.timeFormat),p.toTime=d.format(this.timeFormat),s&&(p.toDate=d.format(this.dateFormat)),a&&r&&this.get("formats").includes(o)&&(p.format="LL"),s&&(p.toDateTime=d),a||r||t!==moment().format(this.dateFormat)||t!==s||!this.get("formats").includes(o)||(p.format="LT"),this.set("config",p)},getTextConfig:function(e){var t="[date="+e.date+" ";return e.recurring&&(t+="recurring="+e.recurring+" "),e.time&&(t+="time="+e.time+" "),t+='timezone="'+e.timezone+'" ',t+='format="'+e.format+'" ',t+='timezones="'+e.timezones.join("|")+'"',t+="]",e.toDate&&(t+=" â†’ ",t+="[date="+e.toDate+" ",e.toTime&&(t+="time="+e.toTime+" "),t+='timezone="'+e.timezone+'" ',t+='format="'+e.format+'" ',t+='timezones="'+e.timezones.join("|")+'"',t+="]"),t},validDate:function(e,t){if(!e)return!1;if(t){if(!t.isValid())return!1;if(t.diff(e)<0)return!1}return e.isValid()},toggleModeBtnLabel:function(e){return e?"discourse_local_dates.create.form.simple_mode":"discourse_local_dates.create.form.advanced_mode"},actions:{advancedMode:function(){this.toggleProperty("advancedMode")},save:function(){this._closeModal();var e=this.getTextConfig(this.get("config"));this.get("toolbarEvent").addText(e)},fillFormat:function(e){this.set("format",e)},cancel:function(){this._closeModal()}},_closeModal:function(){Discourse.__container__.lookup("controller:composer").send("closeModal")}},s(r,"currentUserTimezone",[t.default],Object.getOwnPropertyDescriptor(r,"currentUserTimezone"),r),s(r,"previewedFormats",[n],Object.getOwnPropertyDescriptor(r,"previewedFormats"),r),s(r,"recurringOptions",[t.default],Object.getOwnPropertyDescriptor(r,"recurringOptions"),r),s(r,"allTimezones",[l],Object.getOwnPropertyDescriptor(r,"allTimezones"),r),s(r,"_setConfig",[o],Object.getOwnPropertyDescriptor(r,"_setConfig"),r),s(r,"validDate",[i],Object.getOwnPropertyDescriptor(r,"validDate"),r),s(r,"toggleModeBtnLabel",[a],Object.getOwnPropertyDescriptor(r,"toggleModeBtnLabel"),r),r))}),define("discourse/plugins/discourse-narrative-bot/initializers/new-user-narrative",["exports","discourse/lib/plugin-api"],function(e,t){"use strict";function s(e){var t=e.container.lookup("message-bus:main"),s=e.getCurrentUser(),n=e.container.lookup("app-events:main");e.modifyClass("component:site-header",{didInsertElement:function(){this._super(),this.dispatch("header:search-context-trigger","header")}}),e.attachWidgetAction("header","headerSearchContextTrigger",function(){this.site.mobileView?this.state.skipSearchContext=!1:(this.state.contextEnabled=!0,this.state.searchContextType="topic")}),t&&s&&t.subscribe("/new_user_narrative/tutorial_search",function(){n.trigger("header:search-context-trigger")})}Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"new-user-narratve",initialize:function(e){e.lookup("site-settings:main").discourse_narrative_bot_enabled&&(0,t.withPluginApi)("0.8.7",s)}}}),define("discourse/plugins/discourse-presence/discourse/templates/connectors/topic-above-footer-buttons/presence",["exports"],function(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={shouldRender:function(e,t){return t.siteSettings.presence_enabled}}}),Ember.TEMPLATES["javascripts/connectors/topic-above-footer-buttons/presence"]=Ember.HTMLBars.template({id:null,block:'{"statements":[[1,[33,["topic-presence-display"],null,[["topicId"],[[28,["model","id"]]]]],false],[0,"\\n"]],"locals":[],"named":[],"yields":[],"hasPartials":false}',meta:{moduleName:"javascripts/connectors/topic-above-footer-buttons/presence"}}),define("discourse/plugins/discourse-presence/discourse/templates/connectors/composer-fields/presence",["exports"],function(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={shouldRender:function(e,t){return t.siteSettings.presence_enabled}}}),Ember.TEMPLATES["javascripts/connectors/composer-fields/presence"]=Ember.HTMLBars.template({id:null,block:'{"statements":[[1,[33,["composer-presence-display"],null,[["action","post","topic","reply","title"],[[28,["model","action"]],[28,["model","post"]],[28,["model","topic"]],[28,["model","reply"]],[28,["model","title"]]]]],false],[0,"\\n"]],"locals":[],"named":[],"yields":[],"hasPartials":false}',meta:{moduleName:"javascripts/connectors/composer-fields/presence"}}),Ember.TEMPLATES["javascripts/components/topic-presence-display"]=Ember.HTMLBars.template({id:null,block:'{"statements":[[6,["if"],[[28,["shouldDisplay"]]],null,{"statements":[[0,"  "],[11,"div",[]],[15,"class","presence-users"],[13],[0,"\\n    "],[11,"div",[]],[15,"class","presence-avatars"],[13],[0,"\\n"],[6,["each"],[[28,["users"]]],null,{"statements":[[0,"        "],[1,[33,["avatar"],[[28,["user"]]],[["avatarTemplatePath","usernamePath","imageSize"],["avatar_template","username","small"]]],false],[0,"\\n"]],"locals":["user"]},null],[0,"    "],[14],[0,"\\n    "],[11,"span",[]],[15,"class","presence-text"],[13],[0,"\\n      "],[11,"span",[]],[15,"class","description"],[13],[1,[33,["i18n"],["presence.replying_to_topic"],[["count"],[[28,["users","length"]]]]],false],[14],[11,"span",[]],[15,"class","wave"],[13],[11,"span",[]],[15,"class","dot"],[13],[0,"."],[14],[11,"span",[]],[15,"class","dot"],[13],[0,"."],[14],[11,"span",[]],[15,"class","dot"],[13],[0,"."],[14],[14],[0,"\\n    "],[14],[0,"\\n  "],[14],[0,"\\n"]],"locals":[]},null]],"locals":[],"named":[],"yields":[],"hasPartials":false}',meta:{moduleName:"javascripts/components/topic-presence-display"}}),Ember.TEMPLATES["javascripts/components/composer-presence-display"]=Ember.HTMLBars.template({id:null,
block:'{"statements":[[6,["if"],[[28,["shouldDisplay"]]],null,{"statements":[[0,"  "],[11,"div",[]],[15,"class","presence-users"],[13],[0,"\\n    "],[11,"div",[]],[15,"class","presence-avatars"],[13],[0,"\\n"],[6,["each"],[[28,["users"]]],null,{"statements":[[0,"        "],[1,[33,["avatar"],[[28,["user"]]],[["avatarTemplatePath","usernamePath","imageSize"],["avatar_template","username","small"]]],false],[0,"\\n"]],"locals":["user"]},null],[0,"    "],[14],[0,"\\n    "],[11,"span",[]],[15,"class","presence-text"],[13],[0,"\\n      "],[11,"span",[]],[15,"class","description"],[13],[0,"\\n"],[6,["if"],[[28,["isReply"]]],null,{"statements":[[1,[33,["i18n"],["presence.replying"],null],false]],"locals":[]},{"statements":[[1,[33,["i18n"],["presence.editing"],null],false]],"locals":[]}],[14],[14],[11,"span",[]],[15,"class","wave"],[13],[11,"span",[]],[15,"class","dot"],[13],[0,"."],[14],[11,"span",[]],[15,"class","dot"],[13],[0,"."],[14],[11,"span",[]],[15,"class","dot"],[13],[0,"."],[14],[0,"\\n    "],[14],[0,"\\n  "],[14],[0,"\\n"]],"locals":[]},null]],"locals":[],"named":[],"yields":[],"hasPartials":false}',meta:{moduleName:"javascripts/components/composer-presence-display"}}),define("discourse/plugins/discourse-presence/discourse/components/composer-presence-display",["exports","discourse/lib/ajax","ember-addons/ember-computed-decorators"],function(e,t,s){"use strict";function n(e,t,s,n,l){var o={};return Object.keys(n).forEach(function(e){o[e]=n[e]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=s.slice().reverse().reduce(function(s,n){return n(e,t,s)||s},o),l&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(l):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}Object.defineProperty(e,"__esModule",{value:!0}),e.bufferTime=e.keepAliveDuration=void 0;var l,o,i,a,r,u,c,d=e.keepAliveDuration=1e4,p=e.bufferTime=3e3;e.default=Ember.Component.extend((l=(0,s.on)("didInsertElement"),o=(0,s.observes)("action","post.id","topic.id"),i=(0,s.observes)("reply","title"),a=(0,s.on)("willDestroyElement"),r=(0,s.observes)("currentState"),u=(0,s.default)("presenceUsers","currentUser.id"),c={composer:Ember.inject.controller(),action:null,post:null,topic:null,reply:null,title:null,previousState:null,currentState:null,presenceUsers:null,channel:null,composerOpened:function(){this._lastPublish=new Date,Ember.run.once(this,"updateState")},composerStateChanged:function(){Ember.run.once(this,"updateState")},typing:function(){new Date-this._lastPublish>d&&this.publish({current:this.get("currentState")})},composerClosing:function(){this.publish({previous:this.get("currentState")}),Ember.run.cancel(this._pingTimer),Ember.run.cancel(this._clearTimer)},updateState:function(){var e=null,t=this.get("action");"reply"!==t&&"edit"!==t||(e={action:t},"reply"===t&&(e.topic_id=this.get("topic.id")),"edit"===t&&(e.post_id=this.get("post.id"))),this.set("previousState",this.get("currentState")),this.set("currentState",e)},currentStateChanged:function(){var e=this;this.get("channel")&&(this.messageBus.unsubscribe(this.get("channel")),this.set("channel",null)),this.clear(),["reply","edit"].includes(this.get("action"))&&this.publish({response_needed:!0,previous:this.get("previousState"),current:this.get("currentState")}).then(function(t){e.get("isDestroyed")||(e.set("presenceUsers",t.users),e.set("channel",t.messagebus_channel),t.messagebus_channel&&e.messageBus.subscribe(t.messagebus_channel,function(t){e.get("isDestroyed")||e.set("presenceUsers",t.users),e._clearTimer=Ember.run.debounce(e,"clear",d+p)},t.messagebus_id))})},clear:function(){this.get("isDestroyed")||this.set("presenceUsers",[])},publish:function(e){return this._lastPublish=new Date,this.currentUser.hide_profile_and_presence?Ember.RSVP.Promise.resolve():(0,t.ajax)("/presence/publish",{type:"POST",data:e})},users:function(e,t){return(e||[]).filter(function(e){return e.id!==t})},isReply:Ember.computed.equal("action","reply"),shouldDisplay:Ember.computed.gt("users.length",0)},n(c,"composerOpened",[l],Object.getOwnPropertyDescriptor(c,"composerOpened"),c),n(c,"composerStateChanged",[o],Object.getOwnPropertyDescriptor(c,"composerStateChanged"),c),n(c,"typing",[i],Object.getOwnPropertyDescriptor(c,"typing"),c),n(c,"composerClosing",[a],Object.getOwnPropertyDescriptor(c,"composerClosing"),c),n(c,"currentStateChanged",[r],Object.getOwnPropertyDescriptor(c,"currentStateChanged"),c),n(c,"users",[u],Object.getOwnPropertyDescriptor(c,"users"),c),c))}),define("discourse/plugins/discourse-presence/discourse/components/topic-presence-display",["exports","ember-addons/ember-computed-decorators","discourse/plugins/discourse-presence/discourse/components/composer-presence-display"],function(e,t,s){"use strict";function n(e,t,s,n,l){var o={};return Object.keys(n).forEach(function(e){o[e]=n[e]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=s.slice().reverse().reduce(function(s,n){return n(e,t,s)||s},o),l&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(l):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}Object.defineProperty(e,"__esModule",{value:!0});var l,o,i,a,r;e.default=Ember.Component.extend((l=(0,t.on)("didInsertElement"),o=(0,t.on)("willDestroyElement"),i=(0,t.default)("topicId"),a=(0,t.default)("presenceUsers","currentUser.id"),r={topicId:null,presenceUsers:null,clear:function(){this.get("isDestroyed")||this.set("presenceUsers",[])},_inserted:function(){var e=this;this.clear(),this.messageBus.subscribe(this.get("channel"),function(t){e.get("isDestroyed")||e.set("presenceUsers",t.users),e._clearTimer=Ember.run.debounce(e,"clear",s.keepAliveDuration+s.bufferTime)},-2)},_destroyed:function(){Ember.run.cancel(this._clearTimer),this.messageBus.unsubscribe(this.get("channel"))},channel:function(e){return"/presence/topic/"+e},users:function(e,t){return(e||[]).filter(function(e){return e.id!==t})},shouldDisplay:Ember.computed.gt("users.length",0)},n(r,"_inserted",[l],Object.getOwnPropertyDescriptor(r,"_inserted"),r),n(r,"_destroyed",[o],Object.getOwnPropertyDescriptor(r,"_destroyed"),r),n(r,"channel",[i],Object.getOwnPropertyDescriptor(r,"channel"),r),n(r,"users",[a],Object.getOwnPropertyDescriptor(r,"users"),r),r))}),define("discourse/plugins/discourse-solved/discourse/solved-route-map",["exports"],function(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={resource:"user.userActivity",map:function(){this.route("solved")}}}),define("discourse/plugins/discourse-solved/discourse/initializers/extend-for-solved-button",["exports","discourse/models/topic","discourse/models/user","discourse/raw-views/topic-status","discourse/lib/ajax-error","discourse/lib/plugin-api","discourse/lib/ajax","discourse/widgets/post-cooked","discourse/lib/utilities"],function(e,t,s,n,l,o,i,a,r){"use strict";function u(e){e.get("postStream.posts").forEach(function(e){e.get("post_number")>1&&(e.set("accepted_answer",!1),e.set("can_accept_answer",!0),e.set("can_unaccept_answer",!1))})}function c(e){if(e.get("can_unaccept_answer")){var t=e.topic;e.setProperties({can_accept_answer:!0,can_unaccept_answer:!1,accepted_answer:!1}),t.set("accepted_answer",void 0),(0,i.ajax)("/solution/unaccept",{type:"POST",data:{id:e.get("id")}}).catch(l.popupAjaxError)}}function d(e){var t=e.topic;u(t),e.setProperties({can_unaccept_answer:!0,can_accept_answer:!1,accepted_answer:!0}),t.set("accepted_answer",{username:e.get("username"),post_number:e.get("post_number"),excerpt:e.get("cooked")}),(0,i.ajax)("/solution/accept",{type:"POST",data:{id:e.get("id")}}).catch(l.popupAjaxError)}function p(e){var t=e.getCurrentUser();e.includePostAttributes("can_accept_answer","can_unaccept_answer","accepted_answer"),e.addDiscoveryQueryParam&&e.addDiscoveryQueryParam("solved",{replace:!0,refreshModel:!0}),e.addPostMenuButton("solved",function(e){var s=e.can_accept_answer,n=e.can_unaccept_answer,l=e.accepted_answer,o=t&&t.id===e.topicCreatedById,i=l||!s||o?"first":"second-last-hidden";if(s)return{action:"acceptAnswer",icon:"check-square-o",className:"unaccepted",title:"solved.accept_answer",position:i};if(n||l){return{action:"unacceptAnswer",icon:"check-square",title:n?"solved.unaccept_answer":"solved.accepted_answer",className:"accepted fade-out",position:i,beforeButton:function(e){return e("span.accepted-text",I18n.t("solved.solution"))}}}}),e.decorateWidget("post-contents:after-cooked",function(e){if(1===e.attrs.post_number){var t=e.getModel();if(t){var s=t.get("topic");if(s.get("accepted_answer")){var n=!!s.get("accepted_answer").excerpt,l="\n            <aside class='quote' data-post=\""+s.get("accepted_answer").post_number+'" data-topic="'+s.get("id")+"\">\n              <div class='title'>\n                "+s.get("acceptedAnswerHtml")+' <div class="quote-controls"></div>\n              </div>\n              <blockquote>\n                '+s.get("accepted_answer").excerpt+"\n              </blockquote>\n            </aside>",o="\n            <aside class='quote'>\n              <div class='title title-only'>\n                "+s.get("acceptedAnswerHtml")+"\n              </div>\n            </aside>",i=new a.default({cooked:n?l:o}),r=i.init();return e.rawHtml(r)}}}}),e.attachWidgetAction("post","acceptAnswer",function(){var e=this,t=this.model,s=t.get("topic.postStream.posts").filter(function(e){return 1===e.get("post_number")||e.get("accepted_answer")});d(t),s.forEach(function(t){return e.appEvents.trigger("post-stream:refresh",{id:t.id})})}),e.attachWidgetAction("post","unacceptAnswer",function(){var e=this.model,t=e.get("topic.postStream.posts").find(function(e){return 1===e.get("post_number")});c(e),this.appEvents.trigger("post-stream:refresh",{id:t.get("id")})}),e.registerConnectorClass&&(e.registerConnectorClass("user-activity-bottom","solved-list",{shouldRender:function(e,t){return t.siteSettings.solved_enabled}}),e.registerConnectorClass("user-summary-stat","solved-count",{shouldRender:function(e,t){return t.siteSettings.solved_enabled&&e.model.solved_count>0},setupComponent:function(){this.set("classNames",["linked-stat"])}}))}Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"extend-for-solved-button",initialize:function(){t.default.reopen({acceptedAnswerHtml:function(){var e=this.get("accepted_answer.username"),t=this.get("accepted_answer.post_number");return e&&t?I18n.t("solved.accepted_html",{username_lower:e.toLowerCase(),username:(0,r.formatUsername)(e),post_path:this.get("url")+"/"+t,post_number:t,user_path:s.default.create({username:e}).get("path")}):""}.property("accepted_answer","id")}),n.default.reopen({statuses:function(){var e=this._super();return this.topic.has_accepted_answer?e.push({openTag:"span",closeTag:"span",title:I18n.t("solved.has_accepted_answer"),icon:"check-square-o"}):this.topic.can_have_answer&&this.siteSettings.solved_enabled&&this.siteSettings.empty_box_on_unsolved&&e.push({openTag:"span",closeTag:"span",title:I18n.t("solved.has_no_accepted_answer"),icon:"square-o"}),e}.property()}),(0,o.withPluginApi)("0.1",p),(0,o.withPluginApi)("0.8.10",function(e){e.replaceIcon("notification.solved.accepted_notification","check-square")})}}}),Ember.TEMPLATES["javascripts/discourse/connectors/category-custom-settings/solved-settings"]=Ember.HTMLBars.template({id:null,block:'{"statements":[[6,["unless"],[[28,["siteSettings","allow_solved_on_all_topics"]]],null,{"statements":[[11,"section",[]],[15,"class","field"],[13],[0,"\\n  "],[11,"div",[]],[15,"class","enable-accepted-answer"],[13],[0,"\\n    "],[11,"label",[]],[15,"class","checkbox-label"],[13],[0,"\\n      "],[1,[33,["input"],null,[["type","checked"],["checkbox",[28,["category","enable_accepted_answers"]]]]],false],[0,"\\n      "],[1,[33,["i18n"],["solved.allow_accepted_answers"],null],false],[0,"\\n    "],[14],[0,"\\n  "],[14],[0,"\\n"],[14],[0,"\\n"]],"locals":[]},null]],"locals":[],"named":[],"yields":[],"hasPartials":false}',meta:{moduleName:"javascripts/discourse/connectors/category-custom-settings/solved-settings"}}),Ember.TEMPLATES["javascripts/discourse/connectors/topic-after-cooked/solved-panel"]=Ember.HTMLBars.template({id:null,block:'{"statements":[[6,["if"],[[28,["topic","accepted_answer"]]],null,{"statements":[[11,"p",[]],[15,"class","solved"],[13],[0,"\\n"],[1,[28,["topic","acceptedAnswerHtml"]],true],[0,"\\n"],[14],[0,"\\n"]],"locals":[]},null]],"locals":[],"named":[],"yields":[],"hasPartials":false}',meta:{moduleName:"javascripts/discourse/connectors/topic-after-cooked/solved-panel"}}),Ember.TEMPLATES["javascripts/discourse/connectors/user-activity-bottom/solved-list"]=Ember.HTMLBars.template({id:null,block:'{"statements":[[6,["link-to"],["userActivity.solved"],null,{"statements":[[0,"  "],[11,"i",[]],[15,"class","glyph fa fa-check-square"],[13],[14],[1,[33,["i18n"],["solved.title"],null],false],[0,"\\n"]],"locals":[]},null]],"locals":[],"named":[],"yields":[],"hasPartials":false}',meta:{moduleName:"javascripts/discourse/connectors/user-activity-bottom/solved-list"}}),Ember.TEMPLATES["javascripts/discourse/connectors/user-summary-stat/solved-count"]=Ember.HTMLBars.template({id:null,block:'{"statements":[[6,["link-to"],["userActivity.solved"],null,{"statements":[[0,"  "],[1,[33,["user-stat"],null,[["value","label"],[[28,["model","solved_count"]],"solved.solution_summary"]]],false],[0,"\\n"]],"locals":[]},null]],"locals":[],"named":[],"yields":[],"hasPartials":false}',meta:{moduleName:"javascripts/discourse/connectors/user-summary-stat/solved-count"}}),define("discourse/plugins/discourse-solved/discourse/pre-initializers/extend-category-for-solved",["exports","ember-addons/ember-computed-decorators","discourse/models/category"],function(e,t,s){"use strict";function n(e,t,s,n,l){var o={};return Object.keys(n).forEach(function(e){o[e]=n[e]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=s.slice().reverse().reduce(function(s,n){return n(e,t,s)||s},o),l&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(l):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"extend-category-for-solved",before:"inject-discourse-objects",initialize:function(){var e,l,o;s.default.reopen((e=(0,t.default)("custom_fields.enable_accepted_answers"),l={enable_accepted_answers:{get:function(e){return"true"===e},set:function(e){return e=e?"true":"false",this.set("custom_fields.enable_accepted_answers",e),e}}},n(l,"enable_accepted_answers",[e],(o=Object.getOwnPropertyDescriptor(l,"enable_accepted_answers"),o=o?o.value:void 0,{enumerable:!0,configurable:!0,writable:!0,initializer:function(){return o}}),l),l))}}}),define("discourse/plugins/discourse-solved/discourse/routes/user-activity-solved",["exports","discourse/routes/user-activity-stream"],function(e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=t.default.extend({userActionType:15,noContentHelpKey:"solved.no_solutions"})}),Ember.TEMPLATES["javascripts/upgrade-header"]=Ember.HTMLBars.template({id:null,block:'{"statements":[[6,["unless"],[[28,["versionCheck","upToDate"]]],null,{"statements":[[0,"  "],[1,[26,["upgrade-notice"]],false],[0,"\\n"]],"locals":[]},null]],"locals":[],"named":[],"yields":[],"hasPartials":false}',meta:{moduleName:"javascripts/upgrade-header"}}),Ember.TEMPLATES["javascripts/components/upgrade-notice"]=Ember.HTMLBars.template({id:null,block:'{"statements":[[6,["if"],[[28,["currentUser","admin"]]],null,{"statements":[[0,"  "],[11,"th",[]],[15,"colspan","5"],[13],[1,[33,["i18n"],["docker.upgrade"],null],false],[0," "],[11,"a",[]],[16,"href",[34,[[26,["href"]]]]],[15,"data-auto-route","true"],[13],[1,[33,["i18n"],["docker.perform_upgrade"],null],false],[14],[14],[0,"\\n"]],"locals":[]},null]],"locals":[],"named":[],"yields":[],"hasPartials":false}',meta:{moduleName:"javascripts/components/upgrade-notice"}}),define("discourse/plugins/docker_manager/discourse/components/upgrade-notice",["exports"],function(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=Ember.Component.extend({tagName:"tr",href:function(){return Discourse.getURL("/admin/upgrade")}.property()})}),function(e){"use strict";function t(e,t){var s,n,l,o=e.data("width"),i=e.data("height"),a=e.data("ratio")?e.data("ratio"):t.default_ratio,r=e.data("youtube-id"),u=e.data("youtube-title"),c=[],d=e.data("parameters")||"";a=a.split(":"),"number"==typeof o&&"number"==typeof i?(e.width(o),s=i+"px"):"number"==typeof o?(e.width(o),s=o*a[1]/a[0]+"px"):(o=e.width(),0===o&&(o=e.parent().width()),s=a[1]/a[0]*100+"%"),c.push('<div class="ytp-thumbnail">'),c.push('<div class="ytp-large-play-button"'),o<=640&&c.push(' style="transform: scale(0.563888888888889);"'),c.push(">"),c.push("<svg>"),c.push('<path fill-rule="evenodd" clip-rule="evenodd" fill="#1F1F1F" class="ytp-large-play-button-svg" d="M84.15,26.4v6.35c0,2.833-0.15,5.967-0.45,9.4c-0.133,1.7-0.267,3.117-0.4,4.25l-0.15,0.95c-0.167,0.767-0.367,1.517-0.6,2.25c-0.667,2.367-1.533,4.083-2.6,5.15c-1.367,1.4-2.967,2.383-4.8,2.95c-0.633,0.2-1.316,0.333-2.05,0.4c-0.767,0.1-1.3,0.167-1.6,0.2c-4.9,0.367-11.283,0.617-19.15,0.75c-2.434,0.034-4.883,0.067-7.35,0.1h-2.95C38.417,59.117,34.5,59.067,30.3,59c-8.433-0.167-14.05-0.383-16.85-0.65c-0.067-0.033-0.667-0.117-1.8-0.25c-0.9-0.133-1.683-0.283-2.35-0.45c-2.066-0.533-3.783-1.5-5.15-2.9c-1.033-1.067-1.9-2.783-2.6-5.15C1.317,48.867,1.133,48.117,1,47.35L0.8,46.4c-0.133-1.133-0.267-2.55-0.4-4.25C0.133,38.717,0,35.583,0,32.75V26.4c0-2.833,0.133-5.95,0.4-9.35l0.4-4.25c0.167-0.966,0.417-2.05,0.75-3.25c0.7-2.333,1.567-4.033,2.6-5.1c1.367-1.434,2.967-2.434,4.8-3c0.633-0.167,1.333-0.3,2.1-0.4c0.4-0.066,0.917-0.133,1.55-0.2c4.9-0.333,11.283-0.567,19.15-0.7C35.65,0.05,39.083,0,42.05,0L45,0.05c2.467,0,4.933,0.034,7.4,0.1c7.833,0.133,14.2,0.367,19.1,0.7c0.3,0.033,0.833,0.1,1.6,0.2c0.733,0.1,1.417,0.233,2.05,0.4c1.833,0.566,3.434,1.566,4.8,3c1.066,1.066,1.933,2.767,2.6,5.1c0.367,1.2,0.617,2.284,0.75,3.25l0.4,4.25C84,20.45,84.15,23.567,84.15,26.4z M33.3,41.4L56,29.6L33.3,17.75V41.4z"></path>'),c.push('<polygon fill-rule="evenodd" clip-rule="evenodd" fill="#FFFFFF" points="33.3,41.4 33.3,17.75 56,29.6"></polygon>'),c.push("</svg>"),c.push("</div>"),c.push("</div>"),c.push('<div class="html5-info-bar">'),c.push('<div class="html5-title">'),c.push('<div class="html5-title-text-wrapper">'),c.push('<a class="html5-title-text" target="_blank" tabindex="3100" href="https://www.youtube.com/watch?v=',r,'">'),void 0===u||null===u||""===u?c.push("youtube.com/watch?v="+r):c.push(u),c.push("</a>"),c.push("</div>"),c.push("</div>"),c.push("</div>"),e.css({"padding-bottom":s}).html(c.join("")),l=o>640?"maxresdefault.jpg":o>480?"sddefault.jpg":o>320?"hqdefault.jpg":o>120?"mqdefault.jpg":0===o?"hqdefault.jpg":"default.jpg",n=e.find(".ytp-thumbnail").css({"background-image":["url(//img.youtube.com/vi/",r,"/",l,")"].join("")}).addClass("lazyYT-image-loaded").on("click",function(s){s.preventDefault(),!e.hasClass("lazyYT-video-loaded")&&n.hasClass("lazyYT-image-loaded")&&e.html('<iframe src="//www.youtube.com/embed/'+r+"?autoplay=1&"+d+'" frameborder="0" allowfullscreen></iframe>').addClass("lazyYT-video-loaded"),t.onPlay&&t.onPlay(s,e)})}e.fn.lazyYT=function(s){var n={default_ratio:"16:9",callback:null,container_class:"lazyYT-container"},l=e.extend(n,s);return this.each(function(){t(e(this).addClass(l.container_class),l)})}}(jQuery),define("discourse/plugins/lazyYT/initializers/lazyYT",["exports","discourse/lib/plugin-api"],function(e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"apply-lazyYT",initialize:function(){(0,t.withPluginApi)("0.1",function(e){e.decorateCooked(function(t){0!==$(".lazyYT",t).length&&$(".lazyYT",t).lazyYT({onPlay:function(t,s){var n=parseInt(s.closest("article").data("post-id"));n&&e.preventCloak(n)}})})})}}}),define("discourse/plugins/poll/lib/discourse-markdown/poll",["exports"],function(e){"use strict";function t(e){if(Array.isArray(e)){for(var t=0,s=Array(e.length);t<e.length;t++)s[t]=e[t];return s}return Array.from(e)}function s(e,s,n){var l=e.indexOf(s),o=e[l].level;for(e.splice.apply(e,[l,1].concat(t(n))),n[0].map=s.map;l<e.length;l++){var i=e[l].nesting;i<0&&o--,e[l].level=o,i>0&&o++}}function n(e,t){for(var s=e.length-1,n=[],l=[];e[s]!==t;s--){if(0===s)return;var o=e[s];if(0===o.level&&"ol"!==o.tag&&"ul"!==o.tag)return;if(1===o.level&&1===o.nesting){if("li"!==o.tag)return;n.push([o,l.reverse().join(" ")])}1===o.level&&1===o.nesting&&"li"===o.tag?l=[]:"text"!==o.type&&"inline"!==o.type||l.push(o.content)}return n.reverse()}function l(e,t){e.push("text","",0).content="[/"+t+"]"}function o(e){e.registerOptions(function(e,t){e.features.poll=!!t.poll_enabled,e.pollMaximumOptions=t.poll_maximum_options}),e.registerPlugin(function(e){e.block.bbcode.ruler.push("poll",y)})}function i(e){e.whiteList(["div.poll","div.poll-info","div.poll-container","div.poll-buttons","div[data-*]","span.info-number","span.info-text","span.info-label","a.button.cast-votes","a.button.toggle-results","li[data-*]"]),o(e)}function a(e,t){var s=e[0],n=e[1],l=e[2],o=e[3];s=u(s,n,l,o,t[0],7,-680876936),o=u(o,s,n,l,t[1],12,-389564586),l=u(l,o,s,n,t[2],17,606105819),n=u(n,l,o,s,t[3],22,-1044525330),s=u(s,n,l,o,t[4],7,-176418897),o=u(o,s,n,l,t[5],12,1200080426),l=u(l,o,s,n,t[6],17,-1473231341),n=u(n,l,o,s,t[7],22,-45705983),s=u(s,n,l,o,t[8],7,1770035416),o=u(o,s,n,l,t[9],12,-1958414417),l=u(l,o,s,n,t[10],17,-42063),n=u(n,l,o,s,t[11],22,-1990404162),s=u(s,n,l,o,t[12],7,1804603682),o=u(o,s,n,l,t[13],12,-40341101),l=u(l,o,s,n,t[14],17,-1502002290),n=u(n,l,o,s,t[15],22,1236535329),s=c(s,n,l,o,t[1],5,-165796510),o=c(o,s,n,l,t[6],9,-1069501632),l=c(l,o,s,n,t[11],14,643717713),n=c(n,l,o,s,t[0],20,-373897302),s=c(s,n,l,o,t[5],5,-701558691),o=c(o,s,n,l,t[10],9,38016083),l=c(l,o,s,n,t[15],14,-660478335),n=c(n,l,o,s,t[4],20,-405537848),s=c(s,n,l,o,t[9],5,568446438),o=c(o,s,n,l,t[14],9,-1019803690),l=c(l,o,s,n,t[3],14,-187363961),n=c(n,l,o,s,t[8],20,1163531501),s=c(s,n,l,o,t[13],5,-1444681467),o=c(o,s,n,l,t[2],9,-51403784),l=c(l,o,s,n,t[7],14,1735328473),n=c(n,l,o,s,t[12],20,-1926607734),s=d(s,n,l,o,t[5],4,-378558),o=d(o,s,n,l,t[8],11,-2022574463),l=d(l,o,s,n,t[11],16,1839030562),n=d(n,l,o,s,t[14],23,-35309556),s=d(s,n,l,o,t[1],4,-1530992060),o=d(o,s,n,l,t[4],11,1272893353),l=d(l,o,s,n,t[7],16,-155497632),n=d(n,l,o,s,t[10],23,-1094730640),s=d(s,n,l,o,t[13],4,681279174),o=d(o,s,n,l,t[0],11,-358537222),l=d(l,o,s,n,t[3],16,-722521979),n=d(n,l,o,s,t[6],23,76029189),s=d(s,n,l,o,t[9],4,-640364487),o=d(o,s,n,l,t[12],11,-421815835),l=d(l,o,s,n,t[15],16,530742520),n=d(n,l,o,s,t[2],23,-995338651),s=p(s,n,l,o,t[0],6,-198630844),o=p(o,s,n,l,t[7],10,1126891415),l=p(l,o,s,n,t[14],15,-1416354905),n=p(n,l,o,s,t[5],21,-57434055),s=p(s,n,l,o,t[12],6,1700485571),o=p(o,s,n,l,t[3],10,-1894986606),l=p(l,o,s,n,t[10],15,-1051523),n=p(n,l,o,s,t[1],21,-2054922799),s=p(s,n,l,o,t[8],6,1873313359),o=p(o,s,n,l,t[15],10,-30611744),l=p(l,o,s,n,t[6],15,-1560198380),n=p(n,l,o,s,t[13],21,1309151649),s=p(s,n,l,o,t[4],6,-145523070),o=p(o,s,n,l,t[11],10,-1120210379),l=p(l,o,s,n,t[2],15,718787259),n=p(n,l,o,s,t[9],21,-343485551),e[0]=g(s,e[0]),e[1]=g(n,e[1]),e[2]=g(l,e[2]),e[3]=g(o,e[3])}function r(e,t,s,n,l,o){return t=g(g(t,e),g(n,o)),g(t<<l|t>>>32-l,s)}function u(e,t,s,n,l,o,i){return r(t&s|~t&n,e,t,l,o,i)}function c(e,t,s,n,l,o,i){return r(t&n|s&~n,e,t,l,o,i)}function d(e,t,s,n,l,o,i){return r(t^s^n,e,t,l,o,i)}function p(e,t,s,n,l,o,i){return r(s^(t|~n),e,t,l,o,i)}function m(e){/[\x80-\xFF]/.test(e)&&(e=unescape(encodeURI(e)));var t,s=e.length,n=[1732584193,-271733879,-1732584194,271733878];for(t=64;t<=e.length;t+=64)a(n,f(e.substring(t-64,t)));e=e.substring(t-64);var l=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(t=0;t<e.length;t++)l[t>>2]|=e.charCodeAt(t)<<(t%4<<3);if(l[t>>2]|=128<<(t%4<<3),t>55)for(a(n,l),t=0;t<16;t++)l[t]=0;return l[14]=8*s,a(n,l),n}function f(e){var t,s=[];for(t=0;t<64;t+=4)s[t>>2]=e.charCodeAt(t)+(e.charCodeAt(t+1)<<8)+(e.charCodeAt(t+2)<<16)+(e.charCodeAt(t+3)<<24);return s}function h(e){for(var t="",s=0;s<4;s++)t+=w[e>>8*s+4&15]+w[e>>8*s&15];return t}function b(e){for(var t=0;t<e.length;t++)e[t]=h(e[t]);return e.join("")}function g(e,t){return e+t&4294967295}function v(e){return b(m(e))}Object.defineProperty(e,"__esModule",{value:!0}),e.setup=i;var _=["type","name","min","max","step","order","status","public","close"],y={tag:"poll",before:function(e,t,s){var n=e.push("text","",0);n.content=s,n.bbcode_attrs=t.attrs,n.bbcode_type="poll_open"},after:function(e,t,o){var i=n(e.tokens,t);if(!i)return l(e,o);var a=t.bbcode_attrs,r=[["class","poll"]];a.status||r.push(["data-poll-status","open"]),_.forEach(function(e){a[e]&&r.push(["data-poll-"+e,a[e]])}),a.name||r.push(["data-poll-name","poll"]);var u=parseInt(a.min,10),c=parseInt(a.max,10),d=parseInt(a.step,10);d<1&&(d=1);var p=[],m=new e.Token("poll_open","div",1);if(m.block=!0,m.attrs=r,p.push(m),m=new e.Token("poll_open","div",1),m.block=!0,p.push(m),m=new e.Token("poll_open","div",1),m.attrs=[["class","poll-container"]],p.push(m),"number"===a.type){if(isNaN(u)&&(u=1),isNaN(c)&&(c=e.md.options.discourse.pollMaximumOptions),isNaN(d)&&(d=1),i.length>0)return l(e,o);m=new e.Token("bullet_list_open","ul",1),p.push(m);for(var f=u;f<=c;f+=d)m=new e.Token("list_item_open","li",1),i.push([m,String(f)]),p.push(m),m=new e.Token("text","",0),m.content=String(f),p.push(m),m=new e.Token("list_item_close","li",-1),p.push(m);m=new e.Token("bullet_item_close","",-1),p.push(m)}for(var h=0;h<i.length;h++){m=i[h][0];var b=i[h][1];m.attrs=m.attrs||[];var g=v(JSON.stringify([b]));m.attrs.push(["data-poll-option-id",g])}s(e.tokens,t,p),e.level=e.tokens[e.tokens.length-1].level,e.push("poll_close","div",-1),m=e.push("poll_open","div",1),m.attrs=[["class","poll-info"]],e.push("paragraph_open","p",1),m=e.push("span_open","span",1),m.block=!1,m.attrs=[["class","info-number"]],m=e.push("text","",0),m.content="0",e.push("span_close","span",-1),m=e.push("span_open","span",1),m.block=!1,m.attrs=[["class","info-label"]],m=e.push("text","",0),m.content=I18n.t("poll.voters",{count:0}),e.push("span_close","span",-1),e.push("paragraph_close","p",-1),e.push("poll_close","div",-1),e.push("poll_close","div",-1),e.push("poll_close","div",-1)}},w="0123456789abcdef".split("")}),define("discourse/plugins/poll/lib/even-round",["exports"],function(e){"use strict";function t(e){return 100===e.map(function(e){return Math.floor(e)}).reduce(function(e,t){return e+t})}Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(e){for(var s=e.map(function(e){return e%1}),n=Math.ceil(s.reduce(function(e,t){return e+t})),l=0,o=s.length;l<n&&l<o;l++){for(var i=0,a=0,r=0;r<s.length;r++)s[r]>i&&(a=r,i=s[r]);if(++e[a],s[a]=0,t(e))break}return e.map(function(e){return Math.floor(e)})}}),define("discourse/plugins/poll/widgets/discourse-poll",["exports","discourse/widgets/widget","virtual-dom","discourse-common/lib/icon-library","discourse/widgets/raw-html","discourse/lib/ajax","discourse/lib/ajax-error","discourse/plugins/poll/lib/even-round","discourse/widgets/post","discourse/lib/round","discourse/lib/formatter"],function(e,t,s,n,l,o,i,a,r,u,c){"use strict";function d(e){return new l.default({html:"<span>"+e.html+"</span>"})}function p(e){return(0,o.ajax)("/polls/voters.json",{type:"get",data:e}).catch(function(e){e?(0,i.popupAjaxError)(e):bootbox.alert(I18n.t("poll.error_while_fetching_voters"))})}Object.defineProperty(e,"__esModule",{value:!0}),(0,t.createWidget)("discourse-poll-option",{tagName:"li",buildAttributes:function(e){return{"data-poll-option-id":e.option.id}},html:function(e){var t=[],s=e.option,l=e.vote,o=-1!==l.indexOf(s.id);return e.isMultiple?t.push((0,n.iconNode)(o?"check-square-o":"square-o")):t.push((0,n.iconNode)(o?"dot-circle-o":"circle-o")),t.push(" "),t.push(d(s)),t},click:function(e){0===$(e.target).closest("a").length&&this.sendWidgetAction("toggleOption",this.attrs.option)}}),(0,t.createWidget)("discourse-poll-load-more",{tagName:"div.poll-voters-toggle-expand",buildKey:function(e){return e.id+"-load-more"},defaultState:function(){return{loading:!1}},html:function(e,t){return t.loading?(0,s.h)("div.spinner.small"):(0,s.h)("a",(0,n.iconNode)("chevron-down"))},click:function(){var e=this.state;if(!e.loading)return e.loading=!0,this.sendWidgetAction("loadMore").finally(function(){return e.loading=!1})}}),(0,t.createWidget)("discourse-poll-voters",{tagName:"ul.poll-voters-list",buildKey:function(e){return e.id()},defaultState:function(){return{loaded:"new",pollVoters:[],offset:1}},fetchVoters:function(){var e=this,t=this.attrs,s=this.state;if("loading"!==s.loaded)return s.loaded="loading",p({post_id:t.postId,poll_name:t.pollName,option_id:t.optionId,offset:s.offset}).then(function(n){s.loaded="loaded",s.offset+=1;var l=n[t.pollName],o="number"===t.pollType?l:l[t.optionId];s.pollVoters=s.pollVoters.concat(o),e.scheduleRerender()})},loadMore:function(){return this.fetchVoters()},html:function(e,t){e.pollVoters&&"new"===t.loaded&&(t.pollVoters=e.pollVoters);var n=t.pollVoters.map(function(e){return(0,s.h)("li",[(0,r.avatarFor)("tiny",{username:e.username,template:e.avatar_template})," "])});return t.pollVoters.length<e.totalVotes&&n.push(this.attach("discourse-poll-load-more",{id:e.id()})),(0,s.h)("div.poll-voters",n)}}),(0,t.createWidget)("discourse-poll-standard-results",{tagName:"ul.results",buildKey:function(e){return e.id+"-standard-results"},defaultState:function(){return{loaded:"new"}},fetchVoters:function(){var e=this,t=this.attrs,s=this.state;"new"===s.loaded&&p({post_id:t.post.id,poll_name:t.poll.get("name")}).then(function(n){s.voters=n[t.poll.get("name")],s.loaded="loaded",e.scheduleRerender()})},html:function(e,t){var n=this,l=e.poll,o=l.get("options");if(o){var i=l.get("voters"),r=l.get("public"),u=_.clone(o).sort(function(e,t){return e.votes<t.votes?1:e.votes===t.votes?e.html<t.html?-1:1:-1}),c=0===i?Array(u.length).fill(0):u.map(function(e){return 100*e.votes/i}),p=e.isMultiple?c.map(Math.floor):(0,a.default)(c);return r&&this.fetchVoters(),u.map(function(o,i){var a=[],u=p[i].toString(),c=(e.vote||[]).includes(o.id);return a.push((0,s.h)("div.option",(0,s.h)("p",[(0,s.h)("span.percentage",u+"%"),d(o)]))),a.push((0,s.h)("div.bar-back",(0,s.h)("div.bar",{attributes:{style:"width:"+u+"%"}}))),r&&a.push(n.attach("discourse-poll-voters",{id:function(){return"poll-voters-"+o.id},postId:e.post.id,optionId:o.id,pollName:l.get("name"),totalVotes:o.votes,pollVoters:t.voters&&t.voters[o.id]||[]})),(0,s.h)("li",{className:c?"chosen":""},a)})}}}),(0,t.createWidget)("discourse-poll-number-results",{buildKey:function(e){return e.id+"-number-results"},defaultState:function(){return{loaded:"new"}},fetchVoters:function(){var e=this,t=this.attrs,s=this.state;"new"===s.loaded&&p({post_id:t.post.id,poll_name:t.poll.get("name")}).then(function(n){s.voters=n[t.poll.get("name")],s.loaded="loaded",e.scheduleRerender()})},html:function(e,t){var n=e.poll,o=n.get("public"),i=n.get("options").reduce(function(e,t){return e+parseInt(t.html,10)*parseInt(t.votes,10)},0),a=n.voters,r=0===a?0:(0,u.default)(i/a,-2),c=I18n.t("poll.average_rating",{average:r}),d=[(0,s.h)("div.poll-results-number-rating",new l.default({html:"<span>"+c+"</span>"}))];return o&&(this.fetchVoters(),d.push(this.attach("discourse-poll-voters",{id:function(){return"poll-voters-"+n.get("name")},totalVotes:n.get("voters"),pollVoters:t.voters||[],postId:e.post.id,pollName:n.get("name"),pollType:n.get("type")}))),d}}),(0,t.createWidget)("discourse-poll-container",{tagName:"div.poll-container",html:function(e){var t=this,n=e.poll;if(e.showResults||e.isClosed){var l="number"===n.get("type")?"number":"standard";return this.attach("discourse-poll-"+l+"-results",e)}var o=n.get("options");if(o)return(0,
s.h)("ul",o.map(function(s){return t.attach("discourse-poll-option",{option:s,isMultiple:e.isMultiple,vote:e.vote})}))}}),(0,t.createWidget)("discourse-poll-info",{tagName:"div.poll-info",multipleHelpText:function(e,t,s){if(t>0)if(e===t){if(e>1)return I18n.t("poll.multiple.help.x_options",{count:e})}else{if(e>1)return t<s?I18n.t("poll.multiple.help.between_min_and_max_options",{min:e,max:t}):I18n.t("poll.multiple.help.at_least_min_options",{count:e});if(t<=s)return I18n.t("poll.multiple.help.up_to_max_options",{count:t})}},html:function(e){var t=e.poll,n=t.get("voters"),o=[(0,s.h)("p",[(0,s.h)("span.info-number",n.toString()),(0,s.h)("span.info-label",I18n.t("poll.voters",{count:n}))])];if(e.isMultiple)if(e.showResults||e.isClosed){var i=t.get("options").reduce(function(e,t){return e+parseInt(t.votes,10)},0);o.push((0,s.h)("p",[(0,s.h)("span.info-number",i.toString()),(0,s.h)("span.info-label",I18n.t("poll.total_votes",{count:i}))]))}else{var a=this.multipleHelpText(e.min,e.max,t.get("options.length"));a&&o.push(new l.default({html:'<span class="info-text">'+a+"</span>"}))}if(!e.isClosed&&(!e.showResults&&t.get("public")&&o.push((0,s.h)("span.info-text",I18n.t("poll.public.title"))),t.close)){var r=moment.utc(t.close);if(r.isValid()){var u=r.format("LLL"),c=moment().to(r.local(),!0);o.push(new l.default({html:'<span class="info-text" title="'+u+'">'+I18n.t("poll.automatic_close.closes_in",{timeLeft:c})+"</span>"}))}}return o}}),(0,t.createWidget)("discourse-poll-buttons",{tagName:"div.poll-buttons",html:function(e){var t=[],s=e.poll,n=e.post,o=n.get("topic.archived"),i=e.isClosed,a=i||o;if(e.isMultiple&&!a){var r=!e.canCastVotes;t.push(this.attach("button",{className:"btn cast-votes "+(r?"":"btn-primary"),label:"poll.cast-votes.label",title:"poll.cast-votes.title",disabled:r,action:"castVotes"})),t.push(" ")}if(e.showResults||a?t.push(this.attach("button",{className:"btn toggle-results",label:"poll.hide-results.label",title:"poll.hide-results.title",icon:"eye-slash",disabled:a,action:"toggleResults"})):t.push(this.attach("button",{className:"btn toggle-results",label:"poll.show-results.label",title:"poll.show-results.title",icon:"eye",disabled:0===s.get("voters"),action:"toggleResults"})),e.isAutomaticallyClosed){var u=moment.utc(s.get("close")),d=u.format("LLL"),p=(0,c.relativeAge)(u.toDate(),{addAgo:!0});t.push(new l.default({html:'<span class="info-text" title="'+d+'">'+I18n.t("poll.automatic_close.age",{age:p})+"</span>"}))}return!this.currentUser||this.currentUser.get("id")!==n.get("user_id")&&!this.currentUser.get("staff")||o||(i?e.isAutomaticallyClosed||t.push(this.attach("button",{className:"btn toggle-status",label:"poll.open.label",title:"poll.open.title",icon:"unlock-alt",action:"toggleStatus"})):t.push(this.attach("button",{className:"btn toggle-status btn-danger",label:"poll.close.label",title:"poll.close.title",icon:"lock",action:"toggleStatus"}))),t}}),e.default=(0,t.createWidget)("discourse-poll",{tagName:"div.poll",buildKey:function(e){return e.id},buildAttributes:function(e){var t=e.poll;return{"data-poll-type":t.get("type"),"data-poll-name":t.get("name"),"data-poll-status":t.get("status"),"data-poll-public":t.get("public"),"data-poll-close":t.get("close")}},defaultState:function(e){return{loading:!1,showResults:this.isClosed()||e.post.get("topic.archived")}},html:function(e,t){var n=t.showResults,l=jQuery.extend({},e,{showResults:n,canCastVotes:this.canCastVotes(),isClosed:this.isClosed(),isAutomaticallyClosed:this.isAutomaticallyClosed(),min:this.min(),max:this.max()});return(0,s.h)("div",[this.attach("discourse-poll-container",l),this.attach("discourse-poll-info",l),this.attach("discourse-poll-buttons",l)])},min:function(){var e=parseInt(this.attrs.poll.min,10);return(isNaN(e)||e<1)&&(e=1),e},max:function(){var e=parseInt(this.attrs.poll.max,10),t=this.attrs.poll.options.length;return(isNaN(e)||e>t)&&(e=t),e},isAutomaticallyClosed:function(){var e=this.attrs.poll;return e.get("close")&&moment.utc(e.get("close"))<=moment()},isClosed:function(){return"closed"===this.attrs.poll.get("status")||this.isAutomaticallyClosed()},canCastVotes:function(){var e=this.state,t=this.attrs;if(this.isClosed()||e.showResults||e.loading)return!1;var s=t.vote.length;return t.isMultiple?s>=this.min()&&s<=this.max():s>0},toggleStatus:function(){var e=this,t=this.state,s=this.attrs,n=s.post,l=s.poll;this.isAutomaticallyClosed()||bootbox.confirm(I18n.t(this.isClosed()?"poll.open.confirm":"poll.close.confirm"),I18n.t("no_value"),I18n.t("yes_value"),function(s){if(s){t.loading=!0;var a=e.isClosed()?"open":"closed";(0,o.ajax)("/polls/toggle_status",{type:"PUT",data:{post_id:n.get("id"),poll_name:l.get("name"),status:a}}).then(function(){l.set("status",a),e.scheduleRerender()}).catch(function(e){e?(0,i.popupAjaxError)(e):bootbox.alert(I18n.t("poll.error_while_toggling_status"))}).finally(function(){t.loading=!1})}})},toggleResults:function(){this.state.showResults=!this.state.showResults},showLogin:function(){this.register.lookup("route:application").send("showLogin")},toggleOption:function(e){var t=this.attrs;if(!this.isClosed()){this.currentUser||this.showLogin();var s=t.vote,n=s.indexOf(e.id);return t.isMultiple||(s.length=0),-1!==n?s.splice(n,1):s.push(e.id),t.isMultiple?void 0:this.castVotes()}},castVotes:function(){if(this.canCastVotes()){if(!this.currentUser)return this.showLogin();var e=this.attrs,t=this.state;return t.loading=!0,(0,o.ajax)("/polls/vote",{type:"PUT",data:{post_id:e.post.id,poll_name:e.poll.name,options:e.vote}}).then(function(){t.showResults=!0}).catch(function(e){e?(0,i.popupAjaxError)(e):bootbox.alert(I18n.t("poll.error_while_casting_votes"))}).finally(function(){t.loading=!1})}}})}),define("discourse/plugins/poll/initializers/add-poll-ui-builder",["exports","discourse/lib/plugin-api","ember-addons/ember-computed-decorators","discourse/lib/show-modal"],function(e,t,s,n){"use strict";function l(e,t,s,n,l){var o={};return Object.keys(n).forEach(function(e){o[e]=n[e]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=s.slice().reverse().reduce(function(s,n){return n(e,t,s)||s},o),l&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(l):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}function o(e){var t,o;e.modifyClass("controller:composer",(t=(0,s.default)("siteSettings.poll_enabled","siteSettings.poll_minimum_trust_level_to_create","model.topic.pm_with_non_human_user"),o={canBuildPoll:function(e,t,s){return e&&(s||this.currentUser&&(this.currentUser.staff||this.currentUser.trust_level>=t))},actions:{showPollBuilder:function(){(0,n.default)("poll-ui-builder").set("toolbarEvent",this.get("toolbarEvent"))}}},l(o,"canBuildPoll",[t],Object.getOwnPropertyDescriptor(o,"canBuildPoll"),o),o)),e.addToolbarPopupMenuOptionsCallback(function(){return{action:"showPollBuilder",icon:"bar-chart-o",label:"poll.ui_builder.title",condition:"canBuildPoll"}})}Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"add-poll-ui-builder",initialize:function(){(0,t.withPluginApi)("0.8.7",o)}}}),define("discourse/plugins/poll/initializers/extend-for-poll",["exports","discourse/lib/plugin-api","ember-addons/ember-computed-decorators","discourse-common/lib/get-owner","discourse/widgets/glue"],function(e,t,s,n,l){"use strict";function o(e,t,s,n,l){var o={};return Object.keys(n).forEach(function(e){o[e]=n[e]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=s.slice().reverse().reduce(function(s,n){return n(e,t,s)||s},o),l&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(l):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}function i(e){function t(){d.forEach(function(e){return e.queueRerender()})}function i(s,n){var o=$(".poll",s);if(o.length&&n){var i=n.getModel();e.preventCloak(i.id);var a=i.get("polls_votes")||{};i.pollsChanged();var r=i.get("pollsObject");r&&(p=p||setInterval(t,3e4),o.each(function(e,t){var s=$(t),n=s.data("poll-name"),o=r[n];if(o){var u="multiple"===o.get("type"),p=new l.default("discourse-poll",c,{id:n+"-"+i.id,post:i,poll:o,vote:a[n]||[],isMultiple:u});p.appendTo(t),d.push(p)}}))}}function a(){p&&(clearInterval(p),p=null),d.forEach(function(e){return e.cleanUp()}),d=[]}var r,u,c=(0,n.getRegister)(e);e.modifyClass("controller:topic",{subscribe:function(){var e=this;this._super(),this.messageBus.subscribe("/polls/"+this.get("model.id"),function(t){var s=e.get("model.postStream").findLoadedPost(t.post_id);s&&s.set("polls",t.polls)})},unsubscribe:function(){this.messageBus.unsubscribe("/polls/*"),this._super()}});var d=[],p=null;e.modifyClass("model:post",(r=(0,s.observes)("polls"),u={_polls:null,pollsObject:null,pollsChanged:function(){var e=this,s=this.get("polls");s&&(this._polls=this._polls||{},_.map(s,function(t,s){e._polls[s]?e._polls[s].setProperties(t):e._polls[s]=Em.Object.create(t)}),this.set("pollsObject",this._polls),t())}},o(u,"pollsChanged",[r],Object.getOwnPropertyDescriptor(u,"pollsChanged"),u),u)),e.includePostAttributes("polls","polls_votes"),e.decorateCooked(i,{onlyStream:!0}),e.cleanupStream(a)}Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"extend-for-poll",initialize:function(){(0,t.withPluginApi)("0.8.7",i)}}}),define("discourse/plugins/poll/controllers/poll-ui-builder",["exports","ember-addons/ember-computed-decorators","discourse/models/input-validation"],function(e,t,s){"use strict";function n(e,t,s,n,l){var o={};return Object.keys(n).forEach(function(e){o[e]=n[e]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=s.slice().reverse().reduce(function(s,n){return n(e,t,s)||s},o),l&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(l):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}Object.defineProperty(e,"__esModule",{value:!0});var l,o,i,a,r,u,c,d,p,m,f,h,b,g,v,y;e.default=Ember.Controller.extend((l=(0,t.default)("regularPollType","numberPollType","multiplePollType"),o=(0,t.default)("pollType","regularPollType"),i=(0,t.default)("pollType","pollOptionsCount","multiplePollType"),a=(0,t.default)("pollType","numberPollType"),r=(0,t.default)("isRegular"),u=(0,t.default)("pollOptions"),c=(0,t.observes)("isMultiple","isNumber","pollOptionsCount"),d=(0,t.default)("isRegular","isMultiple","isNumber","pollOptionsCount"),p=(0,t.default)("isRegular","isMultiple","isNumber","pollOptionsCount","pollMin","pollStep"),m=(0,t.default)("isNumber","pollMax"),f=(0,t.default)("isNumber","showMinMax","pollType","publicPoll","pollOptions","pollMin","pollMax","pollStep","autoClose","date","time"),h=(0,t.default)("pollOptionsCount","isRegular","isMultiple","isNumber","pollMin","pollMax"),b=(0,t.default)("pollMin","pollMax"),g=(0,t.default)("pollStep"),v=(0,t.default)("disableInsert"),y={regularPollType:"regular",numberPollType:"number",multiplePollType:"multiple",init:function(){this._super(),this._setupPoll()},pollTypes:function(e,t,s){return[{name:I18n.t("poll.ui_builder.poll_type.regular"),value:e},{name:I18n.t("poll.ui_builder.poll_type.number"),value:t},{name:I18n.t("poll.ui_builder.poll_type.multiple"),value:s}]},isRegular:function(e,t){return e===t},isMultiple:function(e,t,s){return e===s&&t>0},isNumber:function(e,t){return e===t},showMinMax:function(e){return!e},pollOptionsCount:function(e){if(0===e.length)return 0;var t=0;return e.split("\n").forEach(function(e){0!==e.length&&(t+=1)}),t},_setPollMax:function(){var e=this.get("isMultiple"),t=this.get("isNumber");(e||t)&&(e?this.set("pollMax",this.get("pollOptionsCount")):t&&this.set("pollMax",this.siteSettings.poll_maximum_options))},pollMinOptions:function(e,t,s,n){if(!e)return t?this._comboboxOptions(1,n+1):s?this._comboboxOptions(1,this.siteSettings.poll_maximum_options+1):void 0},pollMaxOptions:function(e,t,s,n,l,o){if(!e){var i=parseInt(l)||1;if(t)return this._comboboxOptions(i+1,n+1);if(s){var a=parseInt(o,10);return a<1&&(a=1),this._comboboxOptions(i+1,i+this.siteSettings.poll_maximum_options*a)}}},pollStepOptions:function(e,t){if(e)return this._comboboxOptions(1,(parseInt(t)||1)+1)},pollOutput:function(e,t,s,n,l,o,i,a,r,u,c){var d="[poll",p="",m=this.get("toolbarEvent").getText().match(/\[poll(\s+name=[^\s\]]+)*.*\]/gim);m&&(d+=" name=poll"+(m.length+1));var f=a;if(f<1&&(f=1),s&&(d+=" type="+s),o&&t&&(d+=" min="+o),i&&(d+=" max="+i),e&&(d+=" step="+f),n&&(d+=" public=true"),r){var h=moment(u+" "+c,"YYYY-MM-DD HH:mm").toISOString();h&&(d+=" close="+h)}return d+="]",p+=d+"\n",l.length>0&&!e&&l.split("\n").forEach(function(e){0!==e.length&&(p+="* "+e+"\n")}),p+="[/poll]"},disableInsert:function(e,t,s,n,l,o){return t&&e<2||s&&e<l&&l>=o||!n&&e<2},minMaxValueValidation:function(e,t){var n={ok:!0};return e>=t&&(n={failed:!0,reason:I18n.t("poll.ui_builder.help.invalid_values")}),s.default.create(n)},minStepValueValidation:function(e){var t={ok:!0};return e<1&&(t={failed:!0,reason:I18n.t("poll.ui_builder.help.min_step_value")}),s.default.create(t)},minNumOfOptionsValidation:function(e){var t={ok:!0};return e&&(t={failed:!0,reason:I18n.t("poll.ui_builder.help.options_count")}),s.default.create(t)},_comboboxOptions:function(e,t){return _.range(e,t).map(function(e){return{value:e,name:e}})},_setupPoll:function(){this.setProperties({pollType:null,publicPoll:!1,pollOptions:"",pollMin:1,pollMax:null,pollStep:1,autoClose:!1,date:moment().add(1,"day").format("YYYY-MM-DD"),time:moment().add(1,"hour").format("HH:mm")})},actions:{insertPoll:function(){this.get("toolbarEvent").addText(this.get("pollOutput")),this.send("closeModal"),this._setupPoll()}}},n(y,"pollTypes",[l],Object.getOwnPropertyDescriptor(y,"pollTypes"),y),n(y,"isRegular",[o],Object.getOwnPropertyDescriptor(y,"isRegular"),y),n(y,"isMultiple",[i],Object.getOwnPropertyDescriptor(y,"isMultiple"),y),n(y,"isNumber",[a],Object.getOwnPropertyDescriptor(y,"isNumber"),y),n(y,"showMinMax",[r],Object.getOwnPropertyDescriptor(y,"showMinMax"),y),n(y,"pollOptionsCount",[u],Object.getOwnPropertyDescriptor(y,"pollOptionsCount"),y),n(y,"_setPollMax",[c],Object.getOwnPropertyDescriptor(y,"_setPollMax"),y),n(y,"pollMinOptions",[d],Object.getOwnPropertyDescriptor(y,"pollMinOptions"),y),n(y,"pollMaxOptions",[p],Object.getOwnPropertyDescriptor(y,"pollMaxOptions"),y),n(y,"pollStepOptions",[m],Object.getOwnPropertyDescriptor(y,"pollStepOptions"),y),n(y,"pollOutput",[f],Object.getOwnPropertyDescriptor(y,"pollOutput"),y),n(y,"disableInsert",[h],Object.getOwnPropertyDescriptor(y,"disableInsert"),y),n(y,"minMaxValueValidation",[b],Object.getOwnPropertyDescriptor(y,"minMaxValueValidation"),y),n(y,"minStepValueValidation",[g],Object.getOwnPropertyDescriptor(y,"minStepValueValidation"),y),n(y,"minNumOfOptionsValidation",[v],Object.getOwnPropertyDescriptor(y,"minNumOfOptionsValidation"),y),y))}),Ember.TEMPLATES["javascripts/modal/poll-ui-builder"]=Ember.HTMLBars.template({id:null,block:'{"statements":[[6,["d-modal-body"],null,[["title","class"],["poll.ui_builder.title","poll-ui-builder"]],{"statements":[[0,"  "],[11,"form",[]],[15,"class","poll-ui-builder-form form-horizontal"],[13],[0,"\\n    "],[11,"div",[]],[15,"class","input-group poll-select"],[13],[0,"\\n      "],[11,"label",[]],[15,"class","input-group-label"],[13],[1,[33,["i18n"],["poll.ui_builder.poll_type.label"],null],false],[14],[0,"\\n      "],[1,[33,["combo-box"],null,[["content","value","allowInitialValueMutation","valueAttribute"],[[28,["pollTypes"]],[28,["pollType"]],true,"value"]]],false],[0,"\\n    "],[14],[0,"\\n\\n"],[6,["if"],[[28,["showMinMax"]]],null,{"statements":[[0,"      "],[11,"div",[]],[15,"class","input-group poll-number"],[13],[0,"\\n        "],[1,[33,["input-tip"],null,[["validation"],[[28,["minMaxValueValidation"]]]]],false],[0,"\\n        "],[11,"label",[]],[15,"class","input-group-label"],[13],[1,[33,["i18n"],["poll.ui_builder.poll_config.min"],null],false],[14],[0,"\\n        "],[1,[33,["input"],null,[["type","value","valueAttribute","class"],["number",[28,["pollMin"]],"value","poll-options-min"]]],false],[0,"\\n      "],[14],[0,"\\n\\n\\n      "],[11,"div",[]],[15,"class","input-group poll-number"],[13],[0,"\\n        "],[11,"label",[]],[15,"class","input-group-label"],[13],[1,[33,["i18n"],["poll.ui_builder.poll_config.max"],null],false],[14],[0,"\\n        "],[1,[33,["input"],null,[["type","value","valueAttribute","class"],["number",[28,["pollMax"]],"value","poll-options-max"]]],false],[0,"\\n      "],[14],[0,"\\n\\n"],[6,["if"],[[28,["isNumber"]]],null,{"statements":[[0,"        "],[11,"div",[]],[15,"class","input-group poll-number"],[13],[0,"\\n          "],[11,"label",[]],[15,"class","input-group-label"],[13],[1,[33,["i18n"],["poll.ui_builder.poll_config.step"],null],false],[14],[0,"\\n          "],[1,[33,["input"],null,[["type","value","valueAttribute","min","class"],["number",[28,["pollStep"]],"value","1","poll-options-step"]]],false],[0,"\\n          "],[1,[33,["input-tip"],null,[["validation"],[[28,["minStepValueValidation"]]]]],false],[0,"\\n        "],[14],[0,"\\n"]],"locals":[]},null]],"locals":[]},null],[0,"\\n"],[6,["unless"],[[28,["isNumber"]]],null,{"statements":[[0,"      "],[11,"div",[]],[15,"class","input-group poll-textarea"],[13],[0,"\\n        "],[11,"label",[]],[13],[1,[33,["i18n"],["poll.ui_builder.poll_options.label"],null],false],[14],[0,"\\n        "],[1,[33,["textarea"],null,[["value"],[[28,["pollOptions"]]]]],false],[0,"\\n        "],[1,[33,["input-tip"],null,[["validation"],[[28,["minNumOfOptionsValidation"]]]]],false],[0,"\\n      "],[14],[0,"\\n"]],"locals":[]},null],[0,"\\n    "],[11,"div",[]],[15,"class","input-group poll-checkbox"],[13],[0,"\\n      "],[11,"label",[]],[13],[0,"\\n        "],[1,[33,["input"],null,[["type","checked"],["checkbox",[28,["publicPoll"]]]]],false],[0,"\\n        "],[1,[33,["i18n"],["poll.ui_builder.poll_public.label"],null],false],[0,"\\n      "],[14],[0,"\\n    "],[14],[0,"\\n\\n    "],[11,"div",[]],[15,"class","input-group poll-checkbox"],[13],[0,"\\n      "],[11,"label",[]],[13],[0,"\\n        "],[1,[33,["input"],null,[["type","checked"],["checkbox",[28,["autoClose"]]]]],false],[0,"\\n        "],[1,[33,["i18n"],["poll.ui_builder.automatic_close.label"],null],false],[0,"\\n      "],[14],[0,"\\n    "],[14],[0,"\\n\\n"],[6,["if"],[[28,["autoClose"]]],null,{"statements":[[0,"      "],[11,"div",[]],[15,"class","input-group"],[13],[0,"\\n        "],[1,[33,["date-picker-future"],null,[["value","containerId"],[[28,["date"]],"date-container"]]],false],[0,"\\n        "],[1,[33,["input"],null,[["type","value"],["time",[28,["time"]]]]],false],[0,"\\n        "],[11,"div",[]],[15,"id","date-container"],[13],[14],[0,"\\n      "],[14],[0,"\\n"]],"locals":[]},null],[0,"  "],[14],[0,"\\n"]],"locals":[]},null],[0,"\\n"],[11,"div",[]],[15,"class","modal-footer"],[13],[0,"\\n  "],[1,[33,["d-button"],null,[["action","icon","class","label","disabled"],["insertPoll","bar-chart-o","btn-primary","poll.ui_builder.insert",[28,["disableInsert"]]]]],false],[0,"\\n"],[14],[0,"\\n"]],"locals":[],"named":[],"yields":[],"hasPartials":false}',meta:{moduleName:"javascripts/modal/poll-ui-builder"}});
//# sourceMappingURL=/assets/plugin-bb77f094e32821da667c8f0a5eb2c0ed745ee2ed451aaf82d5c83d11a9f5c3b1.js.map