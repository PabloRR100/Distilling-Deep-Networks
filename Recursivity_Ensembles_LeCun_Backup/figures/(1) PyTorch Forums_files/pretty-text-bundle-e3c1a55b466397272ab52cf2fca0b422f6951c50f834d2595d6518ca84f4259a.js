define("pretty-text/pretty-text",["exports","pretty-text/engines/discourse-markdown-it"],function(e,a){"use strict";function n(e,a){if(!(e instanceof a))throw new TypeError("Cannot call a class as a function")}function t(){}function r(e){var n=e.siteSettings,t=e.getURL,r=e.lookupAvatar,i=e.lookupPrimaryUserGroup,o=e.getTopicInfo,s=e.topicId,l=e.categoryHashtagLookup,c=e.userId,u=e.getCurrentUser,m=e.currentUser,d=e.lookupAvatarByPostNumber,g=e.lookupPrimaryUserGroupByPostNumber,f=e.formatUsername,h=e.emojiUnicodeReplacer,p=e.lookupInlineOnebox,w=e.lookupImageUrls,b=e.previewing,y=e.linkify,k=e.censoredWords,v=e.mentionLookup,x=e.invalidateOneboxes,j={"bold-italics":!0,"auto-link":!0,mentions:!0,bbcode:!0,quote:!0,html:!0,"category-hashtag":!0,onebox:!0,linkify:!1!==y,newline:!n.traditional_markdown_linebreaks};e.features&&(j=_.merge(j,e.features));var I={sanitize:!0,getURL:t,features:j,lookupAvatar:r,lookupPrimaryUserGroup:i,getTopicInfo:o,topicId:s,categoryHashtagLookup:l,userId:c,getCurrentUser:u,currentUser:m,lookupAvatarByPostNumber:d,lookupPrimaryUserGroupByPostNumber:g,formatUsername:f,mentionLookup:v,emojiUnicodeReplacer:h,lookupInlineOnebox:p,lookupImageUrls:w,censoredWords:k,allowedHrefSchemes:n.allowed_href_schemes?n.allowed_href_schemes.split("|"):null,allowedIframes:n.allowed_iframes?n.allowed_iframes.split("|"):[],markdownIt:!0,injectLineNumbersToPreview:n.enable_advanced_editor_preview_sync,previewing:b,invalidateOneboxes:x};return(0,a.setup)(I,n,e),I}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,e.registerOption=t,e.buildOptions=r;var i=function(){function e(e,a){for(var n=0;n<a.length;n++){var t=a[n];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(e,t.key,t)}}return function(a,n,t){return n&&e(a.prototype,n),t&&e(a,t),a}}(),o=function(){function e(a){n(this,e),a||(a=r({siteSettings:{}})),this.opts=a}return i(e,[{key:"disableSanitizer",value:function(){this.opts.sanitizer=this.opts.discourse.sanitizer=function(e){return e}}},{key:"cook",value:function(e){if(!e||0===e.length)return"";return(0,a.cook)(e,this.opts)||""}},{key:"sanitize",value:function(e){return this.opts.sanitizer(e).trim()}}]),e}();e.default=o}),define("pretty-text/guid",["exports"],function(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(){var e=(new Date).getTime();return window.performance&&"function"==typeof window.performance.now&&(e+=performance.now()),"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(a){var n=(e+16*Math.random())%16|0;return e=Math.floor(e/16),("x"===a?n:3&n|8).toString(16)})}}),define("pretty-text/censored-words",["exports"],function(e){"use strict";function a(e){return e.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&").replace(/\*/g,"S*")}function n(e){return new RegExp("((?<!\\w)(?:"+e.join("|")+"))(?!\\w)","ig")}function t(e,t,r){var i=[];if(t=t||"&#9632;",e&&e.length&&(i=e.split("|"),r||(i=i.map(function(e){return"("+a(e)+")"}))),i.length){var o=void 0;try{if(o=r?new RegExp("((?:"+i.join("|")+"))(?![^\\(]*\\))","ig"):n(i))return function(e){var i=e;try{for(var s=o.exec(e),l=new Array(5).join(t);s&&s[0];){if(s[0].length>i.length)return i;if(r)e=e.replace(o,l);else{var _=new Array(s[0].length+1).join(t);e=e.replace(n([a(s[0])]),_)}s=o.exec(e)}return e}catch(e){return i}}}catch(e){}}return function(e){return e}}function r(e,a,n){return t(a,n)(e)}Object.defineProperty(e,"__esModule",{value:!0}),e.censorFn=t,e.censor=r}),define("pretty-text/emoji/data",["exports"],function(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.emojis=["grinning","grimacing","grin","joy","rofl","smiley","smile","sweat_smile","laughing","innocent","wink","blush","slightly_smiling_face","upside_down_face","relaxed","yum","relieved","heart_eyes","kissing_heart","kissing","kissing_smiling_eyes","kissing_closed_eyes","stuck_out_tongue_winking_eye","stuck_out_tongue_closed_eyes","stuck_out_tongue","money_mouth_face","nerd_face","sunglasses","clown_face","cowboy_hat_face","hugs","smirk","no_mouth","neutral_face","expressionless","unamused","roll_eyes","thinking","lying_face","flushed","disappointed","worried","angry","rage","pensive","confused","slightly_frowning_face","frowning_face","persevere","confounded","tired_face","weary","triumph","open_mouth","scream","fearful","cold_sweat","hushed","frowning","anguished","cry","disappointed_relieved","drooling_face","sleepy","sweat","sob","dizzy_face","astonished","zipper_mouth_face","nauseated_face","sneezing_face","mask","face_with_thermometer","face_with_head_bandage","sleeping","zzz","poop","smiling_imp","imp","japanese_ogre","japanese_goblin","skull","ghost","alien","robot","smiley_cat","smile_cat","joy_cat","heart_eyes_cat","smirk_cat","kissing_cat","scream_cat","crying_cat_face","pouting_cat","raised_hands","clap","wave","call_me_hand","+1","-1","facepunch","fist","fist_left","fist_right","v","ok_hand","raised_hand","raised_back_of_hand","open_hands","muscle","pray","handshake","point_up","point_up_2","point_down","point_left","point_right","fu","raised_hand_with_fingers_splayed","metal","crossed_fingers","vulcan_salute","writing_hand","selfie","nail_care","lips","tongue","ear","nose","eye","eyes","bust_in_silhouette","busts_in_silhouette","speaking_head","baby","boy","girl","man","woman","blonde_woman","blonde_man","older_man","older_woman","man_with_gua_pi_mao","woman_with_turban","man_with_turban","policewoman","policeman","construction_worker_woman","construction_worker_man","guardswoman","guardsman","female_detective","male_detective","woman_health_worker","man_health_worker","woman_farmer","man_farmer","woman_cook","man_cook","woman_student","man_student","woman_singer","man_singer","woman_teacher","man_teacher","woman_factory_worker","man_factory_worker","woman_technologist","man_technologist","woman_office_worker","man_office_worker","woman_mechanic","man_mechanic","woman_scientist","man_scientist","woman_artist","man_artist","woman_firefighter","man_firefighter","woman_pilot","man_pilot","woman_astronaut","man_astronaut","woman_judge","man_judge","mrs_claus","santa","angel","pregnant_woman","princess","prince","bride_with_veil","man_in_tuxedo","running_woman","running_man","walking_woman","walking_man","dancer","man_dancing","dancing_women","dancing_men","couple","two_men_holding_hands","two_women_holding_hands","bowing_woman","bowing_man","man_facepalming","woman_facepalming","woman_shrugging","man_shrugging","tipping_hand_woman","tipping_hand_man","no_good_woman","no_good_man","ok_woman","ok_man","raising_hand_woman","raising_hand_man","pouting_woman","pouting_man","frowning_woman","frowning_man","haircut_woman","haircut_man","massage_woman","massage_man","couple_with_heart_woman_man","couple_with_heart_woman_woman","couple_with_heart_man_man","couplekiss_man_woman","couplekiss_woman_woman","couplekiss_man_man","family_man_woman_boy","family_man_woman_girl","family_man_woman_girl_boy","family_man_woman_boy_boy","family_man_woman_girl_girl","family_woman_woman_boy","family_woman_woman_girl","family_woman_woman_girl_boy","family_woman_woman_boy_boy","family_woman_woman_girl_girl","family_man_man_boy","family_man_man_girl","family_man_man_girl_boy","family_man_man_boy_boy","family_man_man_girl_girl","family_woman_boy","family_woman_girl","family_woman_girl_boy","family_woman_boy_boy","family_woman_girl_girl","family_man_boy","family_man_girl","family_man_girl_boy","family_man_boy_boy","family_man_girl_girl","womans_clothes","tshirt","jeans","necktie","dress","bikini","kimono","lipstick","kiss","footprints","high_heel","sandal","boot","mans_shoe","athletic_shoe","womans_hat","tophat","rescue_worker_helmet","mortar_board","crown","school_satchel","pouch","purse","handbag","briefcase","eyeglasses","dark_sunglasses","ring","closed_umbrella","dog","cat","mouse","hamster","rabbit","fox_face","bear","panda_face","koala","tiger","lion","cow","pig","pig_nose","frog","squid","octopus","shrimp","monkey_face","gorilla","see_no_evil","hear_no_evil","speak_no_evil","monkey","chicken","penguin","bird","baby_chick","hatching_chick","hatched_chick","duck","eagle","owl","bat","wolf","boar","horse","unicorn","honeybee","bug","butterfly","snail","beetle","ant","spider","scorpion","crab","snake","lizard","turtle","tropical_fish","fish","blowfish","dolphin","shark","whale","whale2","crocodile","leopard","tiger2","water_buffalo","ox","cow2","deer","dromedary_camel","camel","elephant","rhinoceros","goat","ram","sheep","racehorse","pig2","rat","mouse2","rooster","turkey","dove","dog2","poodle","cat2","rabbit2","chipmunk","paw_prints","dragon","dragon_face","cactus","christmas_tree","evergreen_tree","deciduous_tree","palm_tree","seedling","herb","shamrock","four_leaf_clover","bamboo","tanabata_tree","leaves","fallen_leaf","maple_leaf","ear_of_rice","hibiscus","sunflower","rose","wilted_flower","tulip","blossom","cherry_blossom","bouquet","mushroom","chestnut","jack_o_lantern","shell","spider_web","earth_americas","earth_africa","earth_asia","full_moon","waning_gibbous_moon","last_quarter_moon","waning_crescent_moon","new_moon","waxing_crescent_moon","first_quarter_moon","waxing_gibbous_moon","new_moon_with_face","full_moon_with_face","first_quarter_moon_with_face","last_quarter_moon_with_face","sun_with_face","crescent_moon","star","star2","dizzy","sparkles","comet","sunny","sun_behind_small_cloud","partly_sunny","sun_behind_large_cloud","sun_behind_rain_cloud","cloud","cloud_with_rain","cloud_with_lightning_and_rain","cloud_with_lightning","zap","fire","boom","snowflake","cloud_with_snow","snowman","snowman_with_snow","wind_face","dash","tornado","fog","open_umbrella","umbrella","droplet","sweat_drops","ocean","green_apple","apple","pear","tangerine","lemon","banana","watermelon","grapes","strawberry","melon","cherries","peach","pineapple","kiwi_fruit","avocado","tomato","eggplant","cucumber","carrot","hot_pepper","potato","corn","sweet_potato","peanuts","honey_pot","croissant","bread","baguette_bread","cheese","egg","bacon","pancakes","poultry_leg","meat_on_bone","fried_shrimp","fried_egg","hamburger","fries","stuffed_flatbread","hotdog","pizza","spaghetti","taco","burrito","green_salad","shallow_pan_of_food","ramen","stew","fish_cake","sushi","bento","curry","rice_ball","rice","rice_cracker","oden","dango","shaved_ice","ice_cream","icecream","cake","birthday","custard","candy","lollipop","chocolate_bar","popcorn","doughnut","cookie","milk_glass","beer","beers","clinking_glasses","wine_glass","tumbler_glass","cocktail","tropical_drink","champagne","sake","tea","coffee","baby_bottle","spoon","fork_and_knife","plate_with_cutlery","soccer","basketball","football","baseball","tennis","volleyball","rugby_football","8ball","golf","golfing_woman","golfing_man","ping_pong","badminton","goal_net","ice_hockey","field_hockey","cricket_bat_and_ball","ski","skier","snowboarder","person_fencing","women_wrestling","men_wrestling","woman_cartwheeling","man_cartwheeling","woman_playing_handball","man_playing_handball","ice_skate","bow_and_arrow","fishing_pole_and_fish","boxing_glove","martial_arts_uniform","rowing_woman","rowing_man","swimming_woman","swimming_man","woman_playing_water_polo","man_playing_water_polo","surfing_woman","surfing_man","bath","basketball_woman","basketball_man","weight_lifting_woman","weight_lifting_man","biking_woman","biking_man","mountain_biking_woman","mountain_biking_man","horse_racing","business_suit_levitating","trophy","running_shirt_with_sash","medal_sports","medal_military","1st_place_medal","2nd_place_medal","3rd_place_medal","reminder_ribbon","rosette","ticket","tickets","performing_arts","art","circus_tent","woman_juggling","man_juggling","microphone","headphones","musical_score","musical_keyboard","drum","saxophone","trumpet","guitar","violin","clapper","video_game","space_invader","dart","game_die","slot_machine","bowling","red_car","taxi","blue_car","bus","trolleybus","racing_car","police_car","ambulance","fire_engine","minibus","truck","articulated_lorry","tractor","kick_scooter","motorcycle","bike","motor_scooter","rotating_light","oncoming_police_car","oncoming_bus","oncoming_automobile","oncoming_taxi","aerial_tramway","mountain_cableway","suspension_railway","railway_car","train","monorail","bullettrain_side","bullettrain_front","light_rail","mountain_railway","steam_locomotive","train2","metro","tram","station","helicopter","small_airplane","airplane","flight_departure","flight_arrival","sailboat","motor_boat","speedboat","ferry","passenger_ship","rocket","artificial_satellite","seat","canoe","anchor","construction","fuelpump","busstop","vertical_traffic_light","traffic_light","checkered_flag","ship","ferris_wheel","roller_coaster","carousel_horse","building_construction","foggy","tokyo_tower","factory","fountain","rice_scene","mountain","mountain_snow","mount_fuji","volcano","japan","camping","tent","national_park","motorway","railway_track","sunrise","sunrise_over_mountains","desert","beach_umbrella","desert_island","city_sunrise","city_sunset","cityscape","night_with_stars","bridge_at_night","milky_way","stars","sparkler","fireworks","rainbow","houses","european_castle","japanese_castle","stadium","statue_of_liberty","house","house_with_garden","derelict_house","office","department_store","post_office","european_post_office","hospital","bank","hotel","convenience_store","school","love_hotel","wedding","classical_building","church","mosque","synagogue","kaaba","shinto_shrine","watch","iphone","calling","computer","keyboard","desktop_computer","printer","computer_mouse","trackball","joystick","clamp","minidisc","floppy_disk","cd","dvd","vhs","camera","camera_flash","video_camera","movie_camera","film_projector","film_strip","telephone_receiver","phone","pager","fax","tv","radio","studio_microphone","level_slider","control_knobs","stopwatch","timer_clock","alarm_clock","mantelpiece_clock","hourglass_flowing_sand","hourglass","satellite","battery","electric_plug","bulb","flashlight","candle","wastebasket","oil_drum","money_with_wings","dollar","yen","euro","pound","moneybag","credit_card","gem","balance_scale","wrench","hammer","hammer_and_pick","hammer_and_wrench","pick","nut_and_bolt","gear","chains","gun","bomb","hocho","dagger","crossed_swords","shield","smoking","skull_and_crossbones","coffin","funeral_urn","amphora","crystal_ball","prayer_beads","barber","alembic","telescope","microscope","hole","pill","syringe","thermometer","label","bookmark","toilet","shower","bathtub","key","old_key","couch_and_lamp","sleeping_bed","bed","door","bellhop_bell","framed_picture","world_map","parasol_on_ground","moyai","shopping","shopping_cart","balloon","flags","ribbon","gift","confetti_ball","tada","dolls","wind_chime","crossed_flags","izakaya_lantern","email","envelope_with_arrow","incoming_envelope","e-mail","love_letter","postbox","mailbox_closed","mailbox","mailbox_with_mail","mailbox_with_no_mail","package","postal_horn","inbox_tray","outbox_tray","scroll","page_with_curl","bookmark_tabs","bar_chart","chart_with_upwards_trend","chart_with_downwards_trend","page_facing_up","date","calendar","spiral_calendar","card_index","card_file_box","ballot_box","file_cabinet","clipboard","spiral_notepad","file_folder","open_file_folder","card_index_dividers","newspaper_roll","newspaper","notebook","closed_book","green_book","blue_book","orange_book","notebook_with_decorative_cover","ledger","books","open_book","link","paperclip","paperclips","scissors","triangular_ruler","straight_ruler","pushpin","round_pushpin","triangular_flag_on_post","white_flag","black_flag","rainbow_flag","closed_lock_with_key","lock","unlock","lock_with_ink_pen","pen","fountain_pen","black_nib","memo","pencil2","crayon","paintbrush","mag","mag_right","heart","yellow_heart","green_heart","blue_heart","purple_heart","black_heart","broken_heart","heavy_heart_exclamation","two_hearts","revolving_hearts","heartbeat","heartpulse","sparkling_heart","cupid","gift_heart","heart_decoration","peace_symbol","latin_cross","star_and_crescent","om","wheel_of_dharma","star_of_david","six_pointed_star","menorah","yin_yang","orthodox_cross","place_of_worship","ophiuchus","aries","taurus","gemini","cancer","leo","virgo","libra","scorpius","sagittarius","capricorn","aquarius","pisces","id","atom_symbol","u7a7a","u5272","radioactive","biohazard","mobile_phone_off","vibration_mode","u6709","u7121","u7533","u55b6","u6708","eight_pointed_black_star","vs","accept","white_flower","ideograph_advantage","secret","congratulations","u5408","u6e80","u7981","a","b","ab","cl","o2","sos","no_entry","name_badge","no_entry_sign","x","o","stop_sign","anger","hotsprings","no_pedestrians","do_not_litter","no_bicycles","non-potable_water","underage","no_mobile_phones","exclamation","grey_exclamation","question","grey_question","bangbang","interrobang","100","low_brightness","high_brightness","trident","fleur_de_lis","part_alternation_mark","warning","children_crossing","beginner","recycle","u6307","chart","sparkle","eight_spoked_asterisk","negative_squared_cross_mark","white_check_mark","diamond_shape_with_a_dot_inside","cyclone","loop","globe_with_meridians","m","atm","sa","passport_control","customs","baggage_claim","left_luggage","wheelchair","no_smoking","wc","parking","potable_water","mens","womens","baby_symbol","restroom","put_litter_in_its_place","cinema","signal_strength","koko","ng","ok","up","cool","new","free","zero","one","two","three","four","five","six","seven","eight","nine","keycap_ten","asterisk","1234","arrow_forward","pause_button","next_track_button","stop_button","record_button","play_or_pause_button","previous_track_button","fast_forward","rewind","twisted_rightwards_arrows","repeat","repeat_one","arrow_backward","arrow_up_small","arrow_down_small","arrow_double_up","arrow_double_down","arrow_right","arrow_left","arrow_up","arrow_down","arrow_upper_right","arrow_lower_right","arrow_lower_left","arrow_upper_left","arrow_up_down","left_right_arrow","arrows_counterclockwise","arrow_right_hook","leftwards_arrow_with_hook","arrow_heading_up","arrow_heading_down","hash","information_source","abc","abcd","capital_abcd","symbols","musical_note","notes","wavy_dash","curly_loop","heavy_check_mark","arrows_clockwise","heavy_plus_sign","heavy_minus_sign","heavy_division_sign","heavy_multiplication_x","heavy_dollar_sign","currency_exchange","copyright","registered","tm","end","back","on","top","soon","ballot_box_with_check","radio_button","white_circle","black_circle","red_circle","large_blue_circle","small_orange_diamond","small_blue_diamond","large_orange_diamond","large_blue_diamond","small_red_triangle","black_small_square","white_small_square","black_large_square","white_large_square","small_red_triangle_down","black_medium_square","white_medium_square","black_medium_small_square","white_medium_small_square","black_square_button","white_square_button","speaker","sound","loud_sound","mute","mega","loudspeaker","bell","no_bell","black_joker","mahjong","spades","clubs","hearts","diamonds","flower_playing_cards","thought_balloon","right_anger_bubble","speech_balloon","left_speech_bubble","clock1","clock2","clock3","clock4","clock5","clock6","clock7","clock8","clock9","clock10","clock11","clock12","clock130","clock230","clock330","clock430","clock530","clock630","clock730","clock830","clock930","clock1030","clock1130","clock1230","afghanistan","aland_islands","albania","algeria","american_samoa","andorra","angola","anguilla","antarctica","antigua_barbuda","argentina","armenia","aruba","australia","austria","azerbaijan","bahamas","bahrain","bangladesh","barbados","belarus","belgium","belize","benin","bermuda","bhutan","bolivia","caribbean_netherlands","bosnia_herzegovina","botswana","brazil","british_indian_ocean_territory","british_virgin_islands","brunei","bulgaria","burkina_faso","burundi","cape_verde","cambodia","cameroon","canada","canary_islands","cayman_islands","central_african_republic","chad","chile","cn","christmas_island","cocos_islands","colombia","comoros","congo_brazzaville","congo_kinshasa","cook_islands","costa_rica","croatia","cuba","curacao","cyprus","czech_republic","denmark","djibouti","dominica","dominican_republic","ecuador","egypt","el_salvador","equatorial_guinea","eritrea","estonia","ethiopia","eu","falkland_islands","faroe_islands","fiji","finland","fr","french_guiana","french_polynesia","french_southern_territories","gabon","gambia","georgia","de","ghana","gibraltar","greece","greenland","grenada","guadeloupe","guam","guatemala","guernsey","guinea","guinea_bissau","guyana","haiti","honduras","hong_kong","hungary","iceland","india","indonesia","iran","iraq","ireland","isle_of_man","israel","it","cote_divoire","jamaica","jp","jersey","jordan","kazakhstan","kenya","kiribati","kosovo","kuwait","kyrgyzstan","laos","latvia","lebanon","lesotho","liberia","libya","liechtenstein","lithuania","luxembourg","macau","macedonia","madagascar","malawi","malaysia","maldives","mali","malta","marshall_islands","martinique","mauritania","mauritius","mayotte","mexico","micronesia","moldova","monaco","mongolia","montenegro","montserrat","morocco","mozambique","myanmar","namibia","nauru","nepal","netherlands","new_caledonia","new_zealand","nicaragua","niger","nigeria","niue","norfolk_island","northern_mariana_islands","north_korea","norway","oman","pakistan","palau","palestinian_territories","panama","papua_new_guinea","paraguay","peru","philippines","pitcairn_islands","poland","portugal","puerto_rico","qatar","reunion","romania","ru","rwanda","st_barthelemy","st_helena","st_kitts_nevis","st_lucia","st_pierre_miquelon","st_vincent_grenadines","samoa","san_marino","sao_tome_principe","saudi_arabia","senegal","serbia","seychelles","sierra_leone","singapore","sint_maarten","slovakia","slovenia","solomon_islands","somalia","south_africa","south_georgia_south_sandwich_islands","kr","south_sudan","es","sri_lanka","sudan","suriname","swaziland","sweden","switzerland","syria","taiwan","tajikistan","tanzania","thailand","timor_leste","togo","tokelau","tonga","trinidad_tobago","tunisia","tr","turkmenistan","turks_caicos_islands","tuvalu","uganda","ukraine","united_arab_emirates","uk","us","us_virgin_islands","uruguay","uzbekistan","vanuatu","vatican_city","venezuela","vietnam","wallis_futuna","western_sahara","yemen","zambia","zimbabwe","star_struck","face_with_raised_eyebrow","exploding_head","crazy_face","face_with_symbols_over_mouth","face_vomiting","shushing_face","face_with_hand_over_mouth","face_with_monocle","child","adult","older_adult","woman_with_headscarf","bearded_person","breast_feeding","mage","woman_mage","fairy","vampire","mermaid","merman","elf","genie","woman_genie","zombie","woman_zombie","person_in_steamy_room","woman_in_steamy_room","person_climbing","woman_climbing","person_in_lotus_position","woman_in_lotus_position","love_you_gesture","palms_up_together","brain","orange_heart","scarf","gloves","coat","socks","billed_cap","zebra","giraffe","hedgehog","sauropod","t_rex","cricket","coconut","broccoli","pretzel","cut_of_meat","sandwich","bowl_with_spoon","canned_food","dumpling","fortune_cookie","takeout_box","pie","cup_with_straw","chopsticks","flying_saucer","sled","curling_stone","svalbard_and_jan_mayen","st_martin","us_outlying_islands","tristan_da_cunha","heard_and_mc_donald_islands","ceuta_and_melilla","diego_garcia","ascension_island","bouvet_island","clipperton_island","united_nations","smiling_face_with_three_hearts","hot_face","cold_face","partying_face","woozy_face","pleading_face","man_red_haired","man_curly_haired","man_white_haired","man_bald","woman_red_haired","woman_curly_haired","woman_white_haired","woman_bald","superhero","man_superhero","woman_superhero","supervillain","woman_supervillain","man_supervillain","leg","foot","bone","tooth","goggles","lab_coat","hiking_boot","flat_shoe","raccoon","llama","hippopotamus","kangaroo","badger","swan","peacock","parrot","lobster","mosquito","microbe","mango","leafy_green","bagel","salt","moon_cake","cupcake","compass","brick","skateboard","luggage","firecracker","red_gift_envelope","softball","flying_disc","lacrosse","nazar_amulet","jigsaw","teddy_bear","chess_pawn","thread","yarn","abacus","receipt","toolbox","magnet","test_tube","petri_dish","dna","lotion_bottle","safety_pin","broom","basket","roll_of_toilet_paper","soap","sponge","fire_extinguisher","infinity","pirate_flag"],e.tonableEmojis=["raised_hands","clap","wave","call_me_hand","+1","-1","facepunch","fist","fist_left","fist_right","v","ok_hand","raised_hand","raised_back_of_hand","open_hands","muscle","pray","point_up","point_up_2","point_down","point_left","point_right","fu","raised_hand_with_fingers_splayed","metal","crossed_fingers","vulcan_salute","writing_hand","selfie","nail_care","ear","nose","baby","boy","girl","man","woman","blonde_woman","blonde_man","older_man","older_woman","man_with_gua_pi_mao","woman_with_turban","man_with_turban","policewoman","policeman","construction_worker_woman","construction_worker_man","guardswoman","guardsman","male_detective","woman_health_worker","man_health_worker","woman_farmer","man_farmer","woman_cook","man_cook","woman_student","man_student","woman_singer","man_singer","woman_teacher","man_teacher","woman_factory_worker","man_factory_worker","woman_technologist","man_technologist","woman_office_worker","man_office_worker","woman_mechanic","man_mechanic","woman_scientist","man_scientist","woman_artist","man_artist","woman_firefighter","man_firefighter","woman_pilot","man_pilot","woman_astronaut","man_astronaut","woman_judge","man_judge","mrs_claus","santa","angel","pregnant_woman","princess","prince","bride_with_veil","man_in_tuxedo","running_woman","running_man","walking_woman","walking_man","dancer","man_dancing","bowing_woman","bowing_man","man_facepalming","woman_facepalming","woman_shrugging","man_shrugging","tipping_hand_woman","tipping_hand_man","no_good_woman","no_good_man","ok_woman","ok_man","raising_hand_woman","raising_hand_man","pouting_woman","pouting_man","frowning_woman","frowning_man","haircut_woman","haircut_man","massage_woman","massage_man","golfing_man","snowboarder","woman_cartwheeling","man_cartwheeling","woman_playing_handball","man_playing_handball","rowing_woman","rowing_man","swimming_woman","swimming_man","woman_playing_water_polo","man_playing_water_polo","surfing_woman","surfing_man","bath","basketball_man","weight_lifting_man","biking_woman","biking_man","mountain_biking_woman","mountain_biking_man","horse_racing","business_suit_levitating","woman_juggling","man_juggling","sleeping_bed","child","adult","older_adult","woman_with_headscarf","bearded_person","breast_feeding","mage","woman_mage","fairy","vampire","mermaid","merman","elf","person_in_steamy_room","woman_in_steamy_room","person_climbing","woman_climbing","person_in_lotus_position","woman_in_lotus_position","love_you_gesture","palms_up_together"],e.aliases={right_anger_bubble:["anger_right"],ballot_box:["ballot_box_with_ballot"],basketball_man:["basketball_player","person_with_ball"],beach_umbrella:["umbrella_on_ground","beach","beach_with_umbrella"],parasol_on_ground:["umbrella_on_ground"],bellhop_bell:["bellhop"],biohazard:["biohazard_sign"],bow_and_arrow:["archery"],spiral_calendar:["calendar_spiral","spiral_calendar_pad"],card_file_box:["card_box"],champagne:["bottle_with_popping_cork"],cheese:["cheese_wedge"],city_sunset:["city_dusk"],couch_and_lamp:["couch"],crayon:["lower_left_crayon"],cricket_bat_and_ball:["cricket_bat_ball"],latin_cross:["cross"],dagger:["dagger_knife"],desktop_computer:["desktop"],card_index_dividers:["dividers"],dove:["dove_of_peace"],footprints:["feet"],fire:["flame"],black_flag:["flag_black","waving_black_flag"],cn:["flag_cn"],de:["flag_de"],es:["flag_es"],fr:["flag_fr"],uk:["gb","flag_gb"],it:["flag_it"],jp:["flag_jp"],kr:["flag_kr"],ru:["flag_ru"],us:["flag_us"],white_flag:["flag_white","waving_white_flag"],plate_with_cutlery:["fork_knife_plate","fork_and_knife_with_plate"],framed_picture:["frame_photo","frame_with_picture"],hammer_and_pick:["hammer_pick"],heavy_heart_exclamation:["heart_exclamation","heavy_heart_exclamation_mark_ornament"],houses:["homes","house_buildings"],hotdog:["hot_dog"],derelict_house:["house_abandoned","derelict_house_building"],desert_island:["island"],old_key:["key2"],laughing:["satisfied"],business_suit_levitating:["levitate","man_in_business_suit_levitating"],weight_lifting_man:["lifter","weight_lifter"],medal_sports:["medal","sports_medal"],metal:["sign_of_the_horns"],fu:["middle_finger","reversed_hand_with_middle_finger_extended"],motorcycle:["racing_motorcycle"],mountain_snow:["snow_capped_mountain"],newspaper_roll:["newspaper2","rolled_up_newspaper"],spiral_notepad:["notepad_spiral","spiral_note_pad"],oil_drum:["oil"],older_woman:["grandma"],paintbrush:["lower_left_paintbrush"],paperclips:["linked_paperclips"],pause_button:["double_vertical_bar"],peace_symbol:["peace"],fountain_pen:["pen_fountain","lower_left_fountain_pen"],ping_pong:["table_tennis"],place_of_worship:["worship_symbol"],poop:["shit","hankey","poo"],radioactive:["radioactive_sign"],railway_track:["railroad_track"],robot:["robot_face"],skull:["skeleton"],skull_and_crossbones:["skull_crossbones"],speaking_head:["speaking_head_in_silhouette"],male_detective:["spy","sleuth_or_spy"],thinking:["thinking_face"],"-1":["thumbsdown"],"+1":["thumbsup"],cloud_with_lightning_and_rain:["thunder_cloud_rain","thunder_cloud_and_rain"],tickets:["admission_tickets"],next_track_button:["track_next","next_track"],previous_track_button:["track_previous","previous_track"],unicorn:["unicorn_face"],funeral_urn:["urn"],sun_behind_large_cloud:["white_sun_cloud","white_sun_behind_cloud"],sun_behind_rain_cloud:["white_sun_rain_cloud","white_sun_behind_cloud_with_rain"],partly_sunny:["white_sun_small_cloud","white_sun_with_small_cloud"],open_umbrella:["umbrella2"],hammer_and_wrench:["tools"],face_with_thermometer:["thermometer_face"],timer_clock:["timer"],keycap_ten:["ten"],memo:["pencil"],rescue_worker_helmet:["helmet_with_cross","helmet_with_white_cross"],slightly_smiling_face:["slightly_smiling","slight_smile"],construction_worker_man:["construction_worker"],upside_down_face:["upside_down"],money_mouth_face:["money_mouth"],nerd_face:["nerd"],hugs:["hugging","hugging_face"],roll_eyes:["rolling_eyes","face_with_rolling_eyes"],slightly_frowning_face:["slight_frown"],frowning_face:["frowning2","white_frowning_face"],zipper_mouth_face:["zipper_mouth"],face_with_head_bandage:["head_bandage"],raised_hand_with_fingers_splayed:["hand_splayed"],raised_hand:["hand"],vulcan_salute:["vulcan","raised_hand_with_part_between_middle_and_ring_fingers"],policeman:["cop"],running_man:["runner"],walking_man:["walking"],bowing_man:["bow"],no_good_woman:["no_good"],raising_hand_woman:["raising_hand"],pouting_woman:["person_with_pouting_face"],frowning_woman:["person_frowning"],haircut_woman:["haircut"],massage_woman:["massage"],tshirt:["shirt"],biking_man:["bicyclist"],mountain_biking_man:["mountain_bicyclist"],passenger_ship:["cruise_ship"],motor_boat:["motorboat","boat"],flight_arrival:["airplane_arriving"],flight_departure:["airplane_departure"],small_airplane:["airplane_small"],racing_car:["race_car"],family_man_woman_boy_boy:["family_man_woman_boys"],family_man_woman_girl_girl:["family_man_woman_girls"],family_woman_woman_boy:["family_women_boy"],family_woman_woman_girl:["family_women_girl"],family_woman_woman_girl_boy:["family_women_girl_boy"],family_woman_woman_boy_boy:["family_women_boys"],family_woman_woman_girl_girl:["family_women_girls"],family_man_man_boy:["family_men_boy"],family_man_man_girl:["family_men_girl"],family_man_man_girl_boy:["family_men_girl_boy"],family_man_man_boy_boy:["family_men_boys"],family_man_man_girl_girl:["family_men_girls"],cloud_with_lightning:["cloud_lightning"],tornado:["cloud_tornado","cloud_with_tornado"],cloud_with_rain:["cloud_rain"],cloud_with_snow:["cloud_snow"],asterisk:["keycap_star"],
studio_microphone:["microphone2"],medal_military:["military_medal"],couple_with_heart_woman_woman:["female_couple_with_heart"],couple_with_heart_man_man:["male_couple_with_heart"],couplekiss_woman_woman:["female_couplekiss"],couplekiss_man_man:["male_couplekiss"],honeybee:["bee"],lion:["lion_face"],artificial_satellite:["satellite_orbital"],computer_mouse:["mouse_three_button","three_button_mouse"],hocho:["knife"],swimming_man:["swimmer"],wind_face:["wind_blowing_face"],golfing_man:["golfer"],facepunch:["punch"],building_construction:["construction_site"],family_man_woman_girl_boy:["family"],ice_hockey:["hockey"],snowman_with_snow:["snowman2"],play_or_pause_button:["play_pause"],film_projector:["projector"],shopping:["shopping_bags"],open_book:["book"],national_park:["park"],world_map:["map"],pen:["pen_ballpoint","lower_left_ballpoint_pen"],email:["envelope","e-mail"],phone:["telephone"],atom_symbol:["atom"],mantelpiece_clock:["clock"],camera_flash:["camera_with_flash"],film_strip:["film_frames"],balance_scale:["scales"],surfing_man:["surfer"],couplekiss_man_woman:["couplekiss"],couple_with_heart_woman_man:["couple_with_heart"],clamp:["compression"],dancing_women:["dancers"],blonde_man:["person_with_blond_hair"],sleeping_bed:["sleeping_accommodation"],om:["om_symbol"],tipping_hand_woman:["information_desk_person"],rowing_man:["rowboat"],new_moon:["moon"],oncoming_automobile:["car","automobile"],fleur_de_lis:["fleur-de-lis"],face_vomiting:["puke"]},e.searchAliases={sad:["frowning_face","slightly_frowning_face","sob","crying_cat_face","cry"],cry:["sob"]},e.translations={":)":"slight_smile",":-)":"slight_smile","^_^":"slight_smile","^__^":"slight_smile",":(":"frowning",":-(":"frowning",";)":"wink",";-)":"wink",":'(":"cry",":'-(":"cry",":-'(":"cry",":p":"stuck_out_tongue",":P":"stuck_out_tongue",":-P":"stuck_out_tongue",":O":"open_mouth",":-O":"open_mouth",":D":"smiley",":-D":"smiley",":|":"expressionless",":-|":"expressionless",":/":"confused","8-)":"sunglasses",";P":"stuck_out_tongue_winking_eye",";-P":"stuck_out_tongue_winking_eye",":$":"blush",":-$":"blush"}}),define("pretty-text/emoji",["exports","pretty-text/emoji/data"],function(e,a){"use strict";function n(e,a){e=e.toLowerCase(),m[e]=a}function t(){return m}function r(e,n){if(e)return e.indexOf(":")>=0?e.replace(/\B:[^\s:]+(?::t\d)?:?\B/g,function(e){var t=!!a.translations[e],r=t?a.translations[e]:e.slice(1,e.length-1),s=e.lastIndexOf(":")===e.length-1,l=o(r,n),_=i(r,n)?"emoji emoji-custom":"emoji";return l&&(t||s)?"<img src='"+l+"' "+(n.skipTitle?"":"title='"+r+"'")+" alt='"+r+"' class='"+_+"'>":e}):e}function i(e,a){return e=e.toLowerCase(),!!m.hasOwnProperty(e)||!!(a&&a.customEmoji&&a.customEmoji.hasOwnProperty(e))}function o(e,a){var n=void 0;e=String(e).toLowerCase(),m.hasOwnProperty(e)&&(n=m[e]),a&&a.customEmoji&&a.customEmoji[e]&&(n=a.customEmoji[e]);var t=e.match(/([^:]+):?/);return t&&!n&&(d.hasOwnProperty(t[1])||g.hasOwnProperty(t[1]))&&(n=a.getURL("/images/emoji/"+a.emojiSet+"/"+e.replace(/:t/,"/")+".png")),n&&(n=n+"?v="+u),n}function s(e){return e=e.toLowerCase(),!!(m.hasOwnProperty(e)||d.hasOwnProperty(e)||g.hasOwnProperty(e))}function l(e,n){function t(e){var a=g[e]||e;-1===i.indexOf(a)&&i.push(a)}var r=n&&n.maxResults||-1;if(0===r)return[];f=f||_.union(_.keys(d),_.keys(m),_.keys(g)).sort();for(var i=[],o=0;o<f.length;o++){var s=f[o];0===s.indexOf(e)&&t(s)}a.searchAliases[e]&&i.push.apply(i,a.searchAliases[e]);for(var l=0;l<f.length;l++){var c=f[l];c.indexOf(e)>0&&t(c)}return-1===r?i:i.slice(0,r)}function c(e){var n=_.compact(e.split(":"))[0];return!!n&&-1!==a.tonableEmojis.indexOf(n)}Object.defineProperty(e,"__esModule",{value:!0}),e.IMAGE_VERSION=void 0,e.registerEmoji=n,e.extendedEmojiList=t,e.performEmojiUnescape=r,e.isCustomEmoji=i,e.buildEmojiUrl=o,e.emojiExists=s,e.emojiSearch=l,e.isSkinTonableEmoji=c;var u=e.IMAGE_VERSION="6",m={},d={};a.emojis.forEach(function(e){return d[e]=!0});var g={};Object.keys(a.aliases).forEach(function(e){a.aliases[e].forEach(function(a){return g[a]=e})});var f=void 0}),define("pretty-text/engines/discourse-markdown-it",["exports","pretty-text/white-lister","pretty-text/sanitizer","pretty-text/guid"],function(e,a,n,t){"use strict";function r(e,a){if(!(e instanceof a))throw new TypeError("Cannot call a class as a function")}function i(e,a){return function(){window.console&&window.console.log&&window.console.log(e+": "+a+" is deprecated, please use the new markdown it APIs")}}function o(e,a,n,t,r,o){var s={};return s.markdownIt=!0,s.whiteList=function(a){return o.push([e,a])},s.registerInline=i(e,"registerInline"),s.replaceBlock=i(e,"replaceBlock"),s.addPreProcessor=i(e,"addPreProcessor"),s.inlineReplace=i(e,"inlineReplace"),s.postProcessTag=i(e,"postProcessTag"),s.inlineRegexp=i(e,"inlineRegexp"),s.inlineBetween=i(e,"inlineBetween"),s.postProcessText=i(e,"postProcessText"),s.onParseNode=i(e,"onParseNode"),s.registerBlock=i(e,"registerBlock"),s.getOptions=function(){return r.f()},s.registerOptions=function(a){n.push([e,a])},s.registerPlugin=function(a){t.push([e,a])},s}function s(e){e.block.bbcode={ruler:new b}}function l(e){e.inline.bbcode={ruler:new b}}function _(e){var a=requirejs("pretty-text/engines/discourse-markdown/text-post-process").TextPostProcessRuler;e.core.textPostProcess={ruler:new a}}function c(e,a,n){var r=e[a].content;if(r&&r.length>0){var i=(0,t.default)();return n.discourse.hoisted[i]=e[a].content,i}return""}function u(e){e.utils.lib.mdurl.decode.defaultChars=";/?:@&=+$,# "}function m(e){e.renderer.rules.html_raw=c}function d(e,a,n,t,r){var i=e[a],o=r.renderInlineAsText(i.children,n,t),s=o.split("|");if(s.length>1){var l=void 0;if((l=s.splice(s.length-1)[0].match(y))&&l[1]&&l[2]){o=s.join("|");var _=l[1],c=l[2];if(l[4]){var u=parseFloat(l[4])/100;_=parseInt(_*u),c=parseInt(c*u)}-1===i.attrIndex("width")&&i.attrs.push(["width",_]),-1===i.attrIndex("height")&&i.attrs.push(["height",c])}}return i.attrs[i.attrIndex("alt")][1]=o,r.renderToken(e,a,n)}function g(e){e.renderer.rules.image=d}function f(e,t,r){if(!e.setup){k=k||requirejs("pretty-text/engines/discourse-markdown/helpers"),e.markdownIt=!0;var i=[],c=[],d={f:function(){return e}},f=/discourse-markdown\/|markdown-it\//,h=[],w=[];Object.keys(require._eak_seen).forEach(function(a){if(f.test(a)){var n=requirejs(a);if(n&&n.setup){var t=a.split("/").reverse()[0];h.push(t),n.setup(o(t,e,i,c,d,w))}}}),Object.entries(r.whiteListed||{}).forEach(function(e){w.push(e)}),i.forEach(function(a){(0,p(a,2)[1])(e,t,r)}),h.forEach(function(a){e.features.hasOwnProperty(a)||(e.features[a]=!0)});var b={};if(Object.keys(e).forEach(function(a){b[a]=e[a],delete e[a]}),b.helpers={textReplace:k.textReplace},e.discourse=b,d.f=function(){return e.discourse},e.engine=window.markdownit({discourse:e.discourse,html:!0,breaks:e.discourse.features.newline,xhtmlOut:!1,linkify:t.enable_markdown_linkify,typographer:t.enable_markdown_typographer}),e.engine.linkify.tlds((t.markdown_linkify_tlds||"").split("|")),u(e.engine),m(e.engine),g(e.engine),s(e.engine),l(e.engine),_(e.engine),c.forEach(function(a){var n=p(a,2),t=n[0],r=n[1];e.discourse.features[t]&&e.engine.use(r)}),e.markdownIt=!0,e.setup=!0,!e.discourse.sanitizer||!e.sanitizer){var y=new a.default(e.discourse);w.forEach(function(e){var a=p(e,2),n=a[0],t=a[1];y.whiteListFeature(n,t)}),e.sanitizer=e.discourse.sanitizer=e.discourse.sanitize?function(e){return(0,n.sanitize)(e,y)}:function(e){return e}}}}function h(e,a){var n={};a.discourse.hoisted=n;var t=a.engine.render(e),r=a.discourse.sanitizer(t).trim(),i=Object.keys(n);if(i.length)for(var o=!0,s=function(e){r=r.replace(new RegExp(e,"g"),function(){return o=!0,n[e]})};o;)o=!1,i.forEach(s);return delete a.discourse.hoisted,r}Object.defineProperty(e,"__esModule",{value:!0}),e.setup=f,e.cook=h;var p=function(){function e(e,a){var n=[],t=!0,r=!1,i=void 0;try{for(var o,s=e[Symbol.iterator]();!(t=(o=s.next()).done)&&(n.push(o.value),!a||n.length!==a);t=!0);}catch(e){r=!0,i=e}finally{try{!t&&s.return&&s.return()}finally{if(r)throw i}}return n}return function(a,n){if(Array.isArray(a))return a;if(Symbol.iterator in Object(a))return e(a,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),w=function(){function e(e,a){for(var n=0;n<a.length;n++){var t=a[n];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(e,t.key,t)}}return function(a,n,t){return n&&e(a.prototype,n),t&&e(a,t),a}}(),b=function(){function e(){r(this,e),this.rules=[]}return w(e,[{key:"getRules",value:function(){return this.rules}},{key:"getRuleForTag",value:function(e){if(this.ensureCache(),this.cache.hasOwnProperty(e))return this.cache[e]}},{key:"ensureCache",value:function(){if(!this.cache){this.cache={};for(var e=this.rules.length-1;e>=0;e--){var a=this.rules[e];this.cache[a.rule.tag]=a}}}},{key:"push",value:function(e,a){this.rules.push({name:e,rule:a}),this.cache=null}}]),e}(),y=/^([1-9]+[0-9]*)x([1-9]+[0-9]*)(\s*,\s*([1-9][0-9]?)%)?$/,k=void 0}),function e(a,n,t){function r(o,s){if(!n[o]){if(!a[o]){var l="function"==typeof require&&require;if(!s&&l)return l(o,!0);if(i)return i(o,!0);var _=new Error("Cannot find module '"+o+"'");throw _.code="MODULE_NOT_FOUND",_}var c=n[o]={exports:{}};a[o][0].call(c.exports,function(e){var n=a[o][1][e];return r(n||e)},c,c.exports,e,a,n,t)}return n[o].exports}for(var i="function"==typeof require&&require,o=0;o<t.length;o++)r(t[o]);return r}({1:[function(e,a,n){function t(){return{a:["target","href","title"],abbr:["title"],address:[],area:["shape","coords","href","alt"],article:[],aside:[],audio:["autoplay","controls","loop","preload","src"],b:[],bdi:["dir"],bdo:["dir"],big:[],blockquote:["cite"],br:[],caption:[],center:[],cite:[],code:[],col:["align","valign","span","width"],colgroup:["align","valign","span","width"],dd:[],del:["datetime"],details:["open"],div:[],dl:[],dt:[],em:[],font:["color","size","face"],footer:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],header:[],hr:[],i:[],img:["src","alt","title","width","height"],ins:["datetime"],li:[],mark:[],nav:[],ol:[],p:[],pre:[],s:[],section:[],small:[],span:[],sub:[],sup:[],strong:[],table:["width","border","align","valign"],tbody:["align","valign"],td:["width","rowspan","colspan","align","valign"],tfoot:["align","valign"],th:["width","rowspan","colspan","align","valign"],thead:["align","valign"],tr:["rowspan","align","valign"],tt:[],u:[],ul:[],video:["autoplay","controls","loop","preload","src","height","width"]}}function r(e,a,n){}function i(e,a,n){}function o(e,a,n){}function s(e,a,n){}function l(e){return e.replace(j,"&lt;").replace(I,"&gt;")}function _(e,a,n,t){if(t=t||x,n=f(n),"href"===a||"src"===a){if("#"===(n=v.trim(n)))return"#";if("http://"!==n.substr(0,7)&&"https://"!==n.substr(0,8)&&"mailto:"!==n.substr(0,7)&&"#"!==n[0]&&"/"!==n[0])return""}else if("background"===a){if(P.lastIndex=0,P.test(n))return""}else if("style"===a){if(C.lastIndex=0,C.test(n))return"";if(S.lastIndex=0,S.test(n)&&(P.lastIndex=0,P.test(n)))return"";n=t.process(n)}return n=h(n)}function c(e){return e.replace(z,"&quot;")}function u(e){return e.replace(O,'"')}function m(e){return e.replace(A,function(e,a){return"x"===a[0]||"X"===a[0]?String.fromCharCode(parseInt(a.substr(1),16)):String.fromCharCode(parseInt(a,10))})}function d(e){return e.replace(T,":").replace(E," ")}function g(e){for(var a="",n=0,t=e.length;n<t;n++)a+=e.charCodeAt(n)<32?" ":e.charAt(n);return v.trim(a)}function f(e){return e=u(e),e=m(e),e=d(e),e=g(e)}function h(e){return e=c(e),e=l(e)}function p(){return""}function w(e,a){function n(a){return!!t||-1!==v.indexOf(e,a)}"function"!=typeof a&&(a=function(){});var t=!Array.isArray(e),r=[],i=!1;return{onIgnoreTag:function(e,t,o){if(n(e)){if(o.isClosing){var s="[/removed]",l=o.position+s.length;return r.push([!1!==i?i:o.position,l]),i=!1,s}return i||(i=o.position),"[removed]"}return a(e,t,o)},remove:function(e){var a="",n=0;return v.forEach(r,function(t){a+=e.slice(n,t[0]),n=t[1]}),a+=e.slice(n)}}}function b(e){return e.replace(q,"")}function y(e){var a=e.split("");return a=a.filter(function(e){var a=e.charCodeAt(0);return 127!==a&&(!(a<=31)||(10===a||13===a))}),a.join("")}var k=e("cssfilter").FilterCSS,v=e("./util"),x=new k,j=/</g,I=/>/g,z=/"/g,O=/&quot;/g,A=/&#([a-zA-Z0-9]*);?/gim,T=/&colon;?/gim,E=/&newline;?/gim,P=/((j\s*a\s*v\s*a|v\s*b|l\s*i\s*v\s*e)\s*s\s*c\s*r\s*i\s*p\s*t\s*|m\s*o\s*c\s*h\s*a)\:/gi,C=/e\s*x\s*p\s*r\s*e\s*s\s*s\s*i\s*o\s*n\s*\(.*/gi,S=/u\s*r\s*l\s*\(.*/gi,q=/<!--[\s\S]*?-->/g;n.whiteList=t(),n.getDefaultWhiteList=t,n.onTag=r,n.onIgnoreTag=i,n.onTagAttr=o,n.onIgnoreTagAttr=s,n.safeAttrValue=_,n.escapeHtml=l,n.escapeQuote=c,n.unescapeQuote=u,n.escapeHtmlEntities=m,n.escapeDangerHtml5Entities=d,n.clearNonPrintableCharacter=g,n.friendlyAttrValue=f,n.escapeAttrValue=h,n.onIgnoreTagStripAll=p,n.StripTagBody=w,n.stripCommentTag=b,n.stripBlankChar=y,n.cssFilter=x},{"./util":4,cssfilter:8}],2:[function(e,a,n){function t(e,a){return new o(a).process(e)}var r=e("./default"),i=e("./parser"),o=e("./xss");n=a.exports=t,n.FilterXSS=o;for(var s in r)n[s]=r[s];for(var s in i)n[s]=i[s];"undefined"!=typeof window&&(window.filterXSS=a.exports)},{"./default":1,"./parser":3,"./xss":5}],3:[function(e,a,n){function t(e){var a=e.indexOf(" ");if(-1===a)var n=e.slice(1,-1);else var n=e.slice(1,a+1);return n=u.trim(n).toLowerCase(),"/"===n.slice(0,1)&&(n=n.slice(1)),"/"===n.slice(-1)&&(n=n.slice(0,-1)),n}function r(e){return"</"===e.slice(0,2)}function i(e,a,n){"user strict";var i="",o=0,s=!1,l=!1,_=0,c=e.length,u="",m="";for(_=0;_<c;_++){var d=e.charAt(_);if(!1===s){if("<"===d){s=_;continue}}else if(!1===l){if("<"===d){i+=n(e.slice(o,_)),s=_,o=_;continue}if(">"===d){i+=n(e.slice(o,s)),u=e.slice(s,_+1),m=t(u),i+=a(s,i.length,m,u,r(u)),o=_+1,s=!1;continue}if(('"'===d||"'"===d)&&"="===e.charAt(_-1)){l=d;continue}}else if(d===l){l=!1;continue}}return o<e.length&&(i+=n(e.substr(o))),i}function o(e,a){"user strict";function n(e,n){if(e=u.trim(e),e=e.replace(m,"").toLowerCase(),!(e.length<1)){var t=a(e,n||"");t&&r.push(t)}}for(var t=0,r=[],i=!1,o=e.length,_=0;_<o;_++){var d,g,f=e.charAt(_);if(!1!==i||"="!==f)if(!1===i||_!==t||'"'!==f&&"'"!==f||"="!==e.charAt(_-1))if(" "!==f);else{if(!1===i){if(-1===(g=s(e,_))){d=u.trim(e.slice(t,_)),n(d),i=!1,t=_+1;continue}_=g-1;continue}if(-1===(g=l(e,_-1))){d=u.trim(e.slice(t,_)),d=c(d),n(i,d),i=!1,t=_+1;continue}}else{if(-1===(g=e.indexOf(f,_+1)))break;d=u.trim(e.slice(t+1,g)),n(i,d),i=!1,_=g,t=_+1}else i=e.slice(t,_),t=_+1}return t<e.length&&(!1===i?n(e.slice(t)):n(i,c(u.trim(e.slice(t))))),u.trim(r.join(" "))}function s(e,a){for(;a<e.length;a++){var n=e[a];if(" "!==n)return"="===n?a:-1}}function l(e,a){for(;a>0;a--){var n=e[a];if(" "!==n)return"="===n?a:-1}}function _(e){return'"'===e[0]&&'"'===e[e.length-1]||"'"===e[0]&&"'"===e[e.length-1]}function c(e){return _(e)?e.substr(1,e.length-2):e}var u=e("./util"),m=/[^a-zA-Z0-9_:\.\-]/gim;n.parseTag=i,n.parseAttr=o},{"./util":4}],4:[function(e,a,n){a.exports={indexOf:function(e,a){var n,t;if(Array.prototype.indexOf)return e.indexOf(a);for(n=0,t=e.length;n<t;n++)if(e[n]===a)return n;return-1},forEach:function(e,a,n){var t,r;if(Array.prototype.forEach)return e.forEach(a,n);for(t=0,r=e.length;t<r;t++)a.call(n,e[t],t,e)},trim:function(e){return String.prototype.trim?e.trim():e.replace(/(^\s*)|(\s*$)/g,"")}}},{}],5:[function(e,a,n){function t(e){return void 0===e||null===e}function r(e){var a=e.indexOf(" ");if(-1===a)return{html:"",closing:"/"===e[e.length-2]};e=u.trim(e.slice(a+1,-1));var n="/"===e[e.length-1];return n&&(e=u.trim(e.slice(0,-1))),{html:e,closing:n}}function i(e){e=e||{},e.stripIgnoreTag&&(e.onIgnoreTag&&console.error('Notes: cannot use these two options "stripIgnoreTag" and "onIgnoreTag" at the same time'),e.onIgnoreTag=s.onIgnoreTagStripAll),e.whiteList=e.whiteList||s.whiteList,e.onTag=e.onTag||s.onTag,e.onTagAttr=e.onTagAttr||s.onTagAttr,e.onIgnoreTag=e.onIgnoreTag||s.onIgnoreTag,e.onIgnoreTagAttr=e.onIgnoreTagAttr||s.onIgnoreTagAttr,e.safeAttrValue=e.safeAttrValue||s.safeAttrValue,e.escapeHtml=e.escapeHtml||s.escapeHtml,e.css=e.css||{},this.options=e,this.cssFilter=new o(e.css)}var o=e("cssfilter").FilterCSS,s=e("./default"),l=e("./parser"),_=l.parseTag,c=l.parseAttr,u=e("./util");i.prototype.process=function(e){if(e=e||"",!(e=e.toString()))return"";var a=this,n=a.options,i=n.whiteList,o=n.onTag,l=n.onIgnoreTag,m=n.onTagAttr,d=n.onIgnoreTagAttr,g=n.safeAttrValue,f=n.escapeHtml,h=a.cssFilter;n.stripBlankChar&&(e=s.stripBlankChar(e)),n.allowCommentTag||(e=s.stripCommentTag(e));var p=!1;if(n.stripIgnoreTagBody){var p=s.StripTagBody(n.stripIgnoreTagBody,l);l=p.onIgnoreTag}var w=_(e,function(e,a,n,s,_){var p={sourcePosition:e,position:a,isClosing:_,isWhite:n in i},w=o(n,s,p);if(!t(w))return w;if(p.isWhite){if(p.isClosing)return"</"+n+">";var b=r(s),y=i[n],k=c(b.html,function(e,a){var r=-1!==u.indexOf(y,e),i=m(n,e,a,r);if(!t(i))return i;if(r)return a=g(n,e,a,h),a?e+'="'+a+'"':e;var i=d(n,e,a,r);return t(i)?void 0:i}),s="<"+n;return k&&(s+=" "+k),b.closing&&(s+=" /"),s+=">"}var w=l(n,s,p);return t(w)?f(s):w},f);return p&&(w=p.remove(w)),w},a.exports=i},{"./default":1,"./parser":3,"./util":4,cssfilter:8}],6:[function(e,a,n){function t(e){return void 0===e||null===e}function r(e){e=e||{},e.whiteList=e.whiteList||i.whiteList,e.onAttr=e.onAttr||i.onAttr,e.onIgnoreAttr=e.onIgnoreAttr||i.onIgnoreAttr,this.options=e}var i=e("./default"),o=e("./parser");e("./util");r.prototype.process=function(e){if(e=e||"",!(e=e.toString()))return"";var a=this,n=a.options,r=n.whiteList,i=n.onAttr,s=n.onIgnoreAttr;return o(e,function(e,a,n,o,l){var _=r[n],c=!1;!0===_?c=_:"function"==typeof _?c=_(o):_ instanceof RegExp&&(c=_.test(o)),!0!==c&&(c=!1);var u={position:a,sourcePosition:e,source:l,isWhite:c};if(c){var m=i(n,o,u);return t(m)?n+":"+o:m}var m=s(n,o,u);if(!t(m))return m})},a.exports=r},{"./default":7,"./parser":9,"./util":10}],7:[function(e,a,n){function t(){var e={};return e["align-content"]=!1,e["align-items"]=!1,e["align-self"]=!1,e["alignment-adjust"]=!1,e["alignment-baseline"]=!1,e.all=!1,e["anchor-point"]=!1,e.animation=!1,e["animation-delay"]=!1,e["animation-direction"]=!1,e["animation-duration"]=!1,e["animation-fill-mode"]=!1,e["animation-iteration-count"]=!1,e["animation-name"]=!1,e["animation-play-state"]=!1,e["animation-timing-function"]=!1,e.azimuth=!1,e["backface-visibility"]=!1,e.background=!0,e["background-attachment"]=!0,e["background-clip"]=!0,e["background-color"]=!0,e["background-image"]=!0,e["background-origin"]=!0,e["background-position"]=!0,e["background-repeat"]=!0,e["background-size"]=!0,e["baseline-shift"]=!1,e.binding=!1,e.bleed=!1,e["bookmark-label"]=!1,e["bookmark-level"]=!1,e["bookmark-state"]=!1,e.border=!0,e["border-bottom"]=!0,e["border-bottom-color"]=!0,e["border-bottom-left-radius"]=!0,e["border-bottom-right-radius"]=!0,e["border-bottom-style"]=!0,e["border-bottom-width"]=!0,e["border-collapse"]=!0,e["border-color"]=!0,e["border-image"]=!0,e["border-image-outset"]=!0,e["border-image-repeat"]=!0,e["border-image-slice"]=!0,e["border-image-source"]=!0,e["border-image-width"]=!0,e["border-left"]=!0,e["border-left-color"]=!0,e["border-left-style"]=!0,e["border-left-width"]=!0,e["border-radius"]=!0,e["border-right"]=!0,e["border-right-color"]=!0,e["border-right-style"]=!0,e["border-right-width"]=!0,e["border-spacing"]=!0,e["border-style"]=!0,e["border-top"]=!0,e["border-top-color"]=!0,e["border-top-left-radius"]=!0,e["border-top-right-radius"]=!0,e["border-top-style"]=!0,e["border-top-width"]=!0,e["border-width"]=!0,e.bottom=!1,e["box-decoration-break"]=!0,e["box-shadow"]=!0,e["box-sizing"]=!0,e["box-snap"]=!0,e["box-suppress"]=!0,e["break-after"]=!0,e["break-before"]=!0,e["break-inside"]=!0,e["caption-side"]=!1,e.chains=!1,e.clear=!0,e.clip=!1,e["clip-path"]=!1,e["clip-rule"]=!1,e.color=!0,e["color-interpolation-filters"]=!0,e["column-count"]=!1,e["column-fill"]=!1,e["column-gap"]=!1,e["column-rule"]=!1,e["column-rule-color"]=!1,e["column-rule-style"]=!1,e["column-rule-width"]=!1,e["column-span"]=!1,e["column-width"]=!1,e.columns=!1,e.contain=!1,e.content=!1,e["counter-increment"]=!1,e["counter-reset"]=!1,e["counter-set"]=!1,e.crop=!1,e.cue=!1,e["cue-after"]=!1,e["cue-before"]=!1,e.cursor=!1,e.direction=!1,e.display=!0,e["display-inside"]=!0,e["display-list"]=!0,e["display-outside"]=!0,e["dominant-baseline"]=!1,e.elevation=!1,e["empty-cells"]=!1,e.filter=!1,e.flex=!1,e["flex-basis"]=!1,e["flex-direction"]=!1,e["flex-flow"]=!1,e["flex-grow"]=!1,e["flex-shrink"]=!1,e["flex-wrap"]=!1,e.float=!1,e["float-offset"]=!1,e["flood-color"]=!1,e["flood-opacity"]=!1,e["flow-from"]=!1,e["flow-into"]=!1,e.font=!0,e["font-family"]=!0,e["font-feature-settings"]=!0,e["font-kerning"]=!0,e["font-language-override"]=!0,e["font-size"]=!0,e["font-size-adjust"]=!0,e["font-stretch"]=!0,e["font-style"]=!0,e["font-synthesis"]=!0,e["font-variant"]=!0,e["font-variant-alternates"]=!0,e["font-variant-caps"]=!0,e["font-variant-east-asian"]=!0,e["font-variant-ligatures"]=!0,e["font-variant-numeric"]=!0,e["font-variant-position"]=!0,e["font-weight"]=!0,e.grid=!1,e["grid-area"]=!1,e["grid-auto-columns"]=!1,e["grid-auto-flow"]=!1,e["grid-auto-rows"]=!1,e["grid-column"]=!1,e["grid-column-end"]=!1,e["grid-column-start"]=!1,e["grid-row"]=!1,e["grid-row-end"]=!1,e["grid-row-start"]=!1,e["grid-template"]=!1,e["grid-template-areas"]=!1,e["grid-template-columns"]=!1,e["grid-template-rows"]=!1,e["hanging-punctuation"]=!1,e.height=!0,e.hyphens=!1,e.icon=!1,e["image-orientation"]=!1,e["image-resolution"]=!1,e["ime-mode"]=!1,e["initial-letters"]=!1,e["inline-box-align"]=!1,e["justify-content"]=!1,e["justify-items"]=!1,e["justify-self"]=!1,e.left=!1,e["letter-spacing"]=!0,e["lighting-color"]=!0,e["line-box-contain"]=!1,e["line-break"]=!1,e["line-grid"]=!1,e["line-height"]=!1,e["line-snap"]=!1,e["line-stacking"]=!1,e["line-stacking-ruby"]=!1,e["line-stacking-shift"]=!1,e["line-stacking-strategy"]=!1,e["list-style"]=!0,e["list-style-image"]=!0,e["list-style-position"]=!0,e["list-style-type"]=!0,e.margin=!0,e["margin-bottom"]=!0,e["margin-left"]=!0,e["margin-right"]=!0,e["margin-top"]=!0,e["marker-offset"]=!1,e["marker-side"]=!1,e.marks=!1,e.mask=!1,e["mask-box"]=!1,e["mask-box-outset"]=!1,e["mask-box-repeat"]=!1,e["mask-box-slice"]=!1,e["mask-box-source"]=!1,e["mask-box-width"]=!1,e["mask-clip"]=!1,e["mask-image"]=!1,e["mask-origin"]=!1,e["mask-position"]=!1,e["mask-repeat"]=!1,e["mask-size"]=!1,e["mask-source-type"]=!1,e["mask-type"]=!1,e["max-height"]=!0,e["max-lines"]=!1,e["max-width"]=!0,e["min-height"]=!0,e["min-width"]=!0,e["move-to"]=!1,e["nav-down"]=!1,e["nav-index"]=!1,e["nav-left"]=!1,e["nav-right"]=!1,e["nav-up"]=!1,e["object-fit"]=!1,e["object-position"]=!1,e.opacity=!1,e.order=!1,e.orphans=!1,e.outline=!1,e["outline-color"]=!1,e["outline-offset"]=!1,e["outline-style"]=!1,e["outline-width"]=!1,e.overflow=!1,e["overflow-wrap"]=!1,e["overflow-x"]=!1,e["overflow-y"]=!1,e.padding=!0,e["padding-bottom"]=!0,e["padding-left"]=!0,e["padding-right"]=!0,e["padding-top"]=!0,e.page=!1,e["page-break-after"]=!1,e["page-break-before"]=!1,e["page-break-inside"]=!1,e["page-policy"]=!1,e.pause=!1,e["pause-after"]=!1,e["pause-before"]=!1,e.perspective=!1,e["perspective-origin"]=!1,e.pitch=!1,e["pitch-range"]=!1,e["play-during"]=!1,e.position=!1,e["presentation-level"]=!1,e.quotes=!1,e["region-fragment"]=!1,e.resize=!1,e.rest=!1,e["rest-after"]=!1,e["rest-before"]=!1,e.richness=!1,e.right=!1,e.rotation=!1,e["rotation-point"]=!1,e["ruby-align"]=!1,e["ruby-merge"]=!1,e["ruby-position"]=!1,e["shape-image-threshold"]=!1,e["shape-outside"]=!1,e["shape-margin"]=!1,e.size=!1,e.speak=!1,e["speak-as"]=!1,e["speak-header"]=!1,e["speak-numeral"]=!1,e["speak-punctuation"]=!1,e["speech-rate"]=!1,e.stress=!1,e["string-set"]=!1,e["tab-size"]=!1,e["table-layout"]=!1,e["text-align"]=!0,e["text-align-last"]=!0,e["text-combine-upright"]=!0,e["text-decoration"]=!0,e["text-decoration-color"]=!0,e["text-decoration-line"]=!0,e["text-decoration-skip"]=!0,e["text-decoration-style"]=!0,e["text-emphasis"]=!0,e["text-emphasis-color"]=!0,e["text-emphasis-position"]=!0,e["text-emphasis-style"]=!0,e["text-height"]=!0,e["text-indent"]=!0,e["text-justify"]=!0,e["text-orientation"]=!0,e["text-overflow"]=!0,e["text-shadow"]=!0,e["text-space-collapse"]=!0,e["text-transform"]=!0,e["text-underline-position"]=!0,e["text-wrap"]=!0,e.top=!1,e.transform=!1,e["transform-origin"]=!1,e["transform-style"]=!1,e.transition=!1,e["transition-delay"]=!1,e["transition-duration"]=!1,e["transition-property"]=!1,e["transition-timing-function"]=!1,e["unicode-bidi"]=!1,e["vertical-align"]=!1,e.visibility=!1,e["voice-balance"]=!1,e["voice-duration"]=!1,e["voice-family"]=!1,e["voice-pitch"]=!1,e["voice-range"]=!1,e["voice-rate"]=!1,e["voice-stress"]=!1,e["voice-volume"]=!1,e.volume=!1,e["white-space"]=!1,e.widows=!1,e.width=!0,e["will-change"]=!1,e["word-break"]=!0,e["word-spacing"]=!0,e["word-wrap"]=!0,e["wrap-flow"]=!1,e["wrap-through"]=!1,e["writing-mode"]=!1,e["z-index"]=!1,e}function r(e,a,n){}function i(e,a,n){}n.whiteList=t(),n.getDefaultWhiteList=t,n.onAttr=r,n.onIgnoreAttr=i},{}],8:[function(e,a,n){function t(e,a){return new i(a).process(e)}var r=e("./default"),i=e("./css");n=a.exports=t,n.FilterCSS=i;for(var o in r)n[o]=r[o];"undefined"!=typeof window&&(window.filterCSS=a.exports)},{"./css":6,"./default":7}],9:[function(e,a,n){function t(e,a){function n(){if(!i){var n=r.trim(e.slice(o,s)),t=n.indexOf(":");if(-1!==t){var _=r.trim(n.slice(0,t)),c=r.trim(n.slice(t+1));if(_){var u=a(o,l.length,_,c,n);u&&(l+=u+"; ")}}}o=s+1}e=r.trimRight(e),";"!==e[e.length-1]&&(e+=";");for(var t=e.length,i=!1,o=0,s=0,l="";s<t;s++){var _=e[s];if("/"===_&&"*"===e[s+1]){var c=e.indexOf("*/",s+2);if(-1===c)break;s=c+1,o=s+1,i=!1}else"("===_?i=!0:")"===_?i=!1:";"===_?i||n():"\n"===_&&n()}return r.trim(l)}var r=e("./util");a.exports=t},{"./util":10}],10:[function(e,a,n){a.exports={indexOf:function(e,a){var n,t;if(Array.prototype.indexOf)return e.indexOf(a);for(n=0,t=e.length;n<t;n++)if(e[n]===a)return n;return-1},forEach:function(e,a,n){var t,r;if(Array.prototype.forEach)return e.forEach(a,n);for(t=0,r=e.length;t<r;t++)a.call(n,e[t],t,e)},trim:function(e){return String.prototype.trim?e.trim():e.replace(/(^\s*)|(\s*$)/g,"")},trimRight:function(e){return String.prototype.trimRight?e.trimRight():e.replace(/(\s*$)/g,"")}}},{}]},{},[2]),define("pretty-text/xss",["exports"],function(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=window.filterXSS}),define("pretty-text/white-lister",["exports"],function(e){"use strict";function a(e,a){if(!(e instanceof a))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function e(e,a){var n=[],t=!0,r=!1,i=void 0;try{for(var o,s=e[Symbol.iterator]();!(t=(o=s.next()).done)&&(n.push(o.value),!a||n.length!==a);t=!0);}catch(e){r=!0,i=e}finally{try{!t&&s.return&&s.return()}finally{if(r)throw i}}return n}return function(a,n){if(Array.isArray(a))return a;if(Symbol.iterator in Object(a))return e(a,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),t=function(){function e(e,a){for(var n=0;n<a.length;n++){var t=a[n];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(e,t.key,t)}}return function(a,n,t){return n&&e(a.prototype,n),t&&e(a,t),a}}(),r=/([^\[]+)(\[([^=]+)(=(.*))?\])?/,i=function(){function e(n){var t=this;a(this,e),this._enabled={default:!0},this._allowedHrefSchemes=n&&n.allowedHrefSchemes||[],this._allowedIframes=n&&n.allowedIframes||[],this._rawFeatures=[["default",o]],this._cache=null,n&&n.features&&Object.keys(n.features).forEach(function(e){n.features[e]&&(t._enabled[e]=!0)})}return t(e,[{key:"whiteListFeature",value:function(e,a){this._rawFeatures.push([e,a])}},{key:"disable",value:function(e){this._enabled[e]=!1,this._cache=null}},{key:"enable",value:function(e){this._enabled[e]=!0,this._cache=null}},{key:"_buildCache",value:function(){var e=this,a={},t={},i=[];this._rawFeatures.forEach(function(o){var s=n(o,2),l=s[0],_=s[1];if(e._enabled[l]){if(_.custom)return void i.push(_.custom);"string"==typeof _&&(_=[_]),(_||[]).forEach(function(e){var i=e.split("."),o=i.shift(),s=r.exec(o);if(s){var l=n(s,6),_=l[1],c=l[3],u=l[5];a[_]=[];var m=t[_]=t[_]||{};if(i.length>0&&(m.class=(m.class||[]).concat(i)),c){var d=m[c]=m[c]||[];u?d.push(u):m[c]=["*"]}}})}}),this._cache={custom:i,whiteList:{tagList:a,attrList:t}}}},{key:"_ensureCache",value:function(){this._cache||this._buildCache()}},{key:"getWhiteList",value:function(){return this._ensureCache(),this._cache.whiteList}},{key:"getCustom",value:function(){return this._ensureCache(),this._cache.custom}},{key:"getAllowedHrefSchemes",value:function(){return this._allowedHrefSchemes}},{key:"getAllowedIframes",value:function(){return this._allowedIframes}}]),e}();e.default=i;var o=["a.attachment","a.hashtag","a.mention","a.mention-group","a.onebox","a.inline-onebox-loading","a[data-bbcode]","a[name]","a[rel=nofollow]","a[target=_blank]","a[title]","abbr[title]","aside.quote","aside[data-*]","b","big","blockquote","br","code","dd","del","div","div.quote-controls","div.title","div[align]","div[lang]","div[data-*]","div[dir]","dl","dt","em","h1","h2","h3","h4","h5","h6","hr","i","iframe","iframe[frameborder]","iframe[height]","iframe[marginheight]","iframe[marginwidth]","iframe[width]","img[alt]","img[height]","img[title]","img[width]","ins","kbd","li","ol","ol[start]","p","p[lang]","pre","s","small","span[lang]","span.excerpt","span.hashtag","span.mention","strike","strong","sub","sup","ul","ruby","ruby[lang]","rb","rb[lang]","rp","rt","rt[lang]"]}),define("pretty-text/sanitizer",["exports","pretty-text/xss"],function(e,a){"use strict";function n(e,n){return n?e+'="'+a.default.escapeAttrValue(n)+'"':e}function t(e){return s[e]}function r(e){return null===e?"":e?(e=""+e,_.test(e)?e.replace(l,t):e):e+""}function i(e,a){if(e=e.replace(/'/g,"%27"),/^(https?:)?\/\/[\w\.\-]+/i.test(e))return e;if(/^\/[\w\.\-]+/i.test(e))return e;if(/^#[\w\.\-]+/i.test(e))return e;if(/^mailto:[\w\.\-@]+/i.test(e))return e;if(a&&a.length>0)for(var n=0;n<a.length;n++)if(a[n].test(e))return e}function o(e,t){if(!e)return"";e=e.replace(/<([^A-Za-z\/\!]|$)/g,"&lt;$1");var r=t.getWhiteList(),o=t.getAllowedHrefSchemes(),s=t.getAllowedIframes(),l=null;return o&&o.length>0&&(l=[new RegExp("^("+o.join("|")+")://[\\w\\.\\-]+","i")],o.includes("tel")&&l.push(new RegExp("^tel://\\+?[\\w\\.\\-]+","i"))),(0,a.default)(e,{whiteList:r.tagList,stripIgnoreTag:!0,stripIgnoreTagBody:["script","table"],onIgnoreTagAttr:function(e,a,o){var _=r.attrList[e];if(_){var c=_[a];if(c&&(-1!==c.indexOf("*")||-1!==c.indexOf(o))||0===a.indexOf("data-")&&_["data-*"]||"a"===e&&"href"===a&&i(o,l)||"img"===e&&"src"===a&&(/^data:image.*$/i.test(o)||i(o,l))||"iframe"===e&&"src"===a&&s.some(function(e){return 0===o.toLowerCase().indexOf((e||"").toLowerCase())}))return n(a,o);if("iframe"===e&&"src"===a)return"-STRIP-";if(-1!==["h1","h2","h3","h4","h5","h6"].indexOf(e)&&o.match(/^heading\-\-[a-zA-Z0-9\-\_]+$/))return n(a,o);for(var u=t.getCustom(),m=0;m<u.length;m++){if((0,u[m])(e,a,o))return n(a,o)}}}}).replace(/\[removed\]/g,"").replace(/\<iframe[^>]+\-STRIP\-[^>]*>[^<]*<\/iframe>/g,"").replace(/&(?![#\w]+;)/g,"&amp;").replace(/&#39;/g,"'").replace(/ \/>/g,">")}Object.defineProperty(e,"__esModule",{value:!0}),e.escape=r,e.hrefAllowed=i,e.sanitize=o;var s={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},l=/[&<>"'`]/g,_=/[&<>"'`]/}),define("pretty-text/oneboxer",["exports"],function(e){"use strict";function a(e){$(e).addClass("size-resolved"),e.width>0&&e.width===e.height&&$(e).addClass("onebox-avatar")}function n(e,n){if(e.hasClass("whitelistedgeneric")){var t=e.find(".onebox-body img.thumbnail"),r=t[0];1!==t.length||t.hasClass("size-resolved")||(r.complete?a(r,e,n):t.on("load.onebox",function(){a(r,e,n),t.off("load.onebox")}))}}function t(e){
if(0===l.length)return void(s=null);var a=150,r=!0,o=l.shift(),u=o.url,m=o.refresh,d=o.$elem,g=o.categoryId,f=o.topicId;return e("/onebox",{dataType:"html",data:{url:u,refresh:m,category_id:g,topic_id:f},cache:!0}).then(function(e){var a=$(e);_[i(u)]=a,d.replaceWith(a),n(a,i(u))},function(e){e&&e.jqXHR&&429===e.jqXHR.status?(a=2e3,r=!1,l.unshift({url:u,refresh:m,$elem:d,categoryId:g,topicId:f})):c[i(u)]=!0}).finally(function(){s=Ember.run.later(function(){return t(e)},a),r&&(d.removeClass("loading-onebox"),d.data("onebox-loaded"))})}function r(e){var a=e.elem,n=e.refresh,r=void 0===n||n,o=e.ajax,u=e.synchronous,m=void 0!==u&&u,d=e.categoryId,g=e.topicId,f=$(a);if(!f.data("onebox-loaded")&&!f.hasClass("loading-onebox")){var h=a.href;if(!r){var p=_[i(h)];if(p)return p.prop("outerHTML");if(c[i(h)])return}if(f.addClass("loading-onebox"),l.push({url:h,refresh:r,$elem:f,categoryId:d,topicId:g}),m)return t(o);s=s||Ember.run.later(function(){return t(o)},150)}}function i(e){return e.replace(/\/$/,"")}function o(e){var a=_[i(e)];return a&&a.prop("outerHTML")}Object.defineProperty(e,"__esModule",{value:!0}),e.load=r,e.lookupCache=o;var s=void 0,l=[],_={},c={}}),define("pretty-text/inline-oneboxer",["exports"],function(e){"use strict";function a(e,a){return Object.keys(e).forEach(function(e){t[e]={}}),a("/inline-onebox",{data:{urls:Object.keys(e)}}).then(function(a){a["inline-oneboxes"].forEach(function(a){t[a.url]=a,(e[a.url]||[]).forEach(function(e){e.text(a.title)})})})}function n(e){return t[e]}Object.defineProperty(e,"__esModule",{value:!0}),e.applyInlineOneboxes=a,e.cachedInlineOnebox=n;var t={}}),define("pretty-text/image-short-url",["exports"],function(e){"use strict";function a(e){return s[e]}function n(e,a){return a("/uploads/lookup-urls",{method:"POST",data:{short_urls:e}}).then(function(a){return a.forEach(function(e){return s[e.short_url]=e.url}),e.forEach(function(e){return s[e]=s[e]||"missing"}),a})}function t(e,a){s[e]=a}function r(e){e.each(function(e,n){var t=$(n),r=a(t.data("orig-src"));r&&(t.removeAttr("data-orig-src"),"missing"!==r&&t.attr("src",r))})}function i(e,a){n(_.map(e,function(e){return $(e).data("orig-src")}),a).then(function(){return r(e)})}function o(e){var a=$("img[data-orig-src]");a.length>0&&(r(a),a=$("img[data-orig-src]"),a.length>0&&Ember.run.debounce(null,function(){i(a,e)},450,!0))}Object.defineProperty(e,"__esModule",{value:!0}),e.lookupCachedUploadUrl=a,e.lookupUncachedUploadUrls=n,e.cacheShortUploadUrl=t,e.resolveAllShortUrls=o;var s={}});
//# sourceMappingURL=/assets/pretty-text-bundle-e3c1a55b466397272ab52cf2fca0b422f6951c50f834d2595d6518ca84f4259a.js.map